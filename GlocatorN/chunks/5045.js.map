{"version":3,"file":"chunks/5045.js","mappings":"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","sources":["webpack://momraGisCore/./node_modules/@arcgis/core/views/2d/interactive/editingTools/draw/symbols.js","webpack://momraGisCore/./node_modules/@arcgis/core/views/2d/interactive/editingTools/draw/DrawGraphicTool2D.js","webpack://momraGisCore/./node_modules/@arcgis/core/views/draw/support/createUtils.js","webpack://momraGisCore/./node_modules/@arcgis/core/views/draw/DrawGraphicTool.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../../../symbols.js\";import e from\"../../../../../symbols/CIMSymbol.js\";import o from\"../../../../../symbols/SimpleMarkerSymbol.js\";const t=new e({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",effects:[{type:\"CIMGeometricEffectDashes\",dashTemplate:[3.75,3.75],lineDashEnding:\"HalfPattern\",controlPointEnding:\"NoConstraint\"}],enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:1.6,color:[255,255,255,255]},{type:\"CIMSolidStroke\",enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:2,color:[0,0,0,255]}]}}}),l=new o({style:\"circle\",size:6,color:[127,127,127,1],outline:{color:[50,50,50],width:1}}),i=new o({style:\"circle\",size:6,color:[255,127,0,1],outline:{color:[50,50,50],width:1}});export{i as activeVertex,t as outline,l as regularVertices};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../geometry.js\";import i from\"../../../../../Graphic.js\";import{makeHandle as t}from\"../../../../../core/handleUtils.js\";import{unwrapOr as r,unwrap as s,isSome as a,destroyMaybe as l}from\"../../../../../core/maybe.js\";import{property as n}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{SnappingVisualizer2D as p}from\"../../SnappingVisualizer2D.js\";import{outline as c,regularVertices as h,activeVertex as u}from\"./symbols.js\";import{DrawGraphicTool as m,geometryTypeToDrawOperationGeometryType as v}from\"../../../../draw/DrawGraphicTool.js\";import{DrawOperation as y}from\"../../../../draw/DrawOperation.js\";import{MapDrawSurface as d}from\"../../../../draw/drawSurfaces.js\";import g from\"../../../../../geometry/Point.js\";import G from\"../../../../../geometry/Multipoint.js\";let E=class extends m{constructor(e){super(e),this._visualElementGraphics={outline:null,regularVertices:null,activeVertex:null},this.activeFillSymbol=null,this.type=\"draw-2d\",this._visualElementSymbols={outline:r(e.activeLineSymbol,c),regularVertices:r(e.regularVerticesSymbol,h),activeVertex:r(e.activeVertexSymbol,u),fill:s(e.activeFillSymbol)}}initializeGraphic(e){return a(this._visualElementSymbols.fill)&&(e.symbol=this._visualElementSymbols.fill),null}makeDrawOperation(){const e=this.view;return new y({view:e,manipulators:this.manipulators,geometryType:v(this.geometryType),drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,drawSurface:new d(e),hasM:!1,snappingManager:this.snappingManager,snappingVisualizer:new p(this.internalGraphicsLayer)})}onActiveVertexChanged(e){if(\"point\"===this.geometryType)return null;const[r,s]=e,n=new g({x:r,y:s,spatialReference:this.drawOperation.spatialReference});return a(this._visualElementGraphics.activeVertex)?(this._visualElementGraphics.activeVertex.geometry=n,null):(this._visualElementGraphics.activeVertex=new i({geometry:n,symbol:this._visualElementSymbols.activeVertex,attributes:{displayOrder:2}}),this.internalGraphicsLayer.add(this._visualElementGraphics.activeVertex),this.internalGraphicsLayer.graphics.sort(_),t((()=>{a(this._visualElementGraphics.activeVertex)&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.activeVertex),this._visualElementGraphics.activeVertex=l(this._visualElementGraphics.activeVertex))})))}onOutlineChanged(e){const r=e.clone();if(\"polyline\"===r.type){const e=r.paths[r.paths.length-1];e.splice(0,e.length-2)}return a(this._visualElementGraphics.outline)?(this._visualElementGraphics.outline.geometry=r,null):(this._visualElementGraphics.outline=new i({geometry:r,symbol:this._visualElementSymbols.outline,attributes:{displayOrder:0}}),this.internalGraphicsLayer.add(this._visualElementGraphics.outline),this.internalGraphicsLayer.graphics.sort(_),t((()=>{a(this._visualElementGraphics.outline)&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.outline),this._visualElementGraphics.outline=l(this._visualElementGraphics.outline))})))}onRegularVerticesChanged(e){const r=new G({points:e,spatialReference:this.drawOperation.spatialReference});return a(this._visualElementGraphics.regularVertices)?(this._visualElementGraphics.regularVertices.geometry=r,null):(this._visualElementGraphics.regularVertices=new i({geometry:r,symbol:this._visualElementSymbols.regularVertices,attributes:{displayOrder:1}}),this.internalGraphicsLayer.add(this._visualElementGraphics.regularVertices),this.internalGraphicsLayer.graphics.sort(_),t((()=>{a(this._visualElementGraphics.regularVertices)&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.regularVertices),this._visualElementGraphics.regularVertices=l(this._visualElementGraphics.regularVertices))})))}};function _(e,i){var t,r,s,a;return(null!=(t=null==(r=e.attributes)?void 0:r.displayOrder)?t:-1/0)-(null!=(s=null==(a=i.attributes)?void 0:a.displayOrder)?s:-1/0)}e([n()],E.prototype,\"activeFillSymbol\",void 0),e([n({readOnly:!0})],E.prototype,\"type\",void 0),e([n({constructOnly:!0,nonNullable:!0})],E.prototype,\"view\",void 0),E=e([o(\"esri.views.2d.interactive.draw.DrawGraphicTool2D\")],E);export{E as DrawGraphicTool2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{equals as e}from\"../../../core/arrayUtils.js\";import{clone as t}from\"../../../core/lang.js\";import{filterNones as o,isSome as n,isNone as r}from\"../../../core/maybe.js\";import{getMetersPerUnitForSR as a}from\"../../../core/unitUtils.js\";import s from\"../../../geometry/Circle.js\";import{simplify as i,distance as l}from\"../../../geometry/geometryEngine.js\";import{unnormalizeGeometryOnDatelineCrossing as y,isClockwise as c,unnormalizeVerticesOnDatelineCrossing as p}from\"../../../geometry/support/coordsUtils.js\";import{isValid as x}from\"../../../geometry/support/spatialReferenceUtils.js\";import{makeSurfacePoint as m}from\"./surfaceCoordinateSystems.js\";import u from\"../../../geometry/Multipoint.js\";import f from\"../../../geometry/Point.js\";import h from\"../../../geometry/Polyline.js\";import M from\"../../../geometry/Polygon.js\";const g=\"DrawAction-snapping-graphics-layer\";function d(e,t,o=null){return n(o)?[e,t,o]:[e,t]}function R(e,t){const o=new f({x:e[0],y:e[1],spatialReference:t});return e.length>2&&(o.z=e[2]),o}function j(e,t){return new u({points:e,spatialReference:t})}function b(e,t,o){const n=new h({paths:e,spatialReference:t});return o&&y(n),n}function T(o,n,r,a=!0){const s=t(o);s.forEach((t=>{const o=t[0],n=t[t.length-1];e(o,n)&&1!==t.length||t.push(t[0])}));let l=new M({rings:s,spatialReference:n});return l.rings.forEach((e=>{c(e,!1,!1)||e.reverse()})),r&&y(l),a&&l.isSelfIntersecting&&x(n)&&(l=i(l)),l}function U(e,t,n){const r=t.mapToLocalMultiple(e),a=[],s={x:r[0].x,y:r[0].y},i={x:r[1].x,y:r[1].y},l=Math.round(i.x-s.x),y=Math.round(i.y-s.y),c=Math.max(Math.abs(l),Math.abs(y));if(n){const e={x:s.x+c,y:s.y+c},t={x:s.x-c,y:s.y-c};a.push(m(e.x,t.y),m(t.x,t.y),m(t.x,e.y),m(e.x,e.y))}else{const e={x:l>0?s.x+c:s.x-c,y:y>0?s.y+c:s.y-c};a.push(m(s.x,s.y),m(e.x,s.y),m(e.x,e.y),m(s.x,e.y))}return T([o(a.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!0)}function w(e,t,n){let r=t.mapToLocalMultiple(e);if(1===r.length){const e=48,t=r[0];r=[m(t.x-e,t.y+e),m(t.x+e,t.y-e),m(t.x+e,t.y-e),m(t.x-e,t.y+e)]}const a=[],s={x:r[0].x,y:r[0].y},i={x:r[1].x,y:r[1].y};if(n){const e=Math.round(i.x-s.x),t=Math.round(i.y-s.y);a.push(m(s.x-e,s.y-t),m(i.x,s.y-t),m(i.x,i.y),m(s.x-e,i.y))}else a.push(m(s.x,s.y),m(i.x,s.y),m(i.x,i.y),m(s.x,i.y));return T([o(a.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!0)}function z(e,t,o,n){const i=t.mapToLocalMultiple(e);let y=null,c=null;if(o)y=i[0],c=i[1];else{const e=i[0],t=i[1],o=Math.round(t.x-e.x),n=Math.round(t.y-e.y),r=Math.max(Math.abs(o),Math.abs(n));y=m(o>0?e.x+r/2:e.x-r/2,n>0?e.y+r/2:e.y-r/2),c=m(Math.abs(o)>Math.abs(n)?y.x-r/2:y.x,Math.abs(o)>Math.abs(n)?y.y:y.y-r/2)}const u=t.localToMap(y),f=t.localToMap(c);if(r(u)||r(f))return null;t.doUnnormalization&&p([[u,f]],t.spatialReference);const h=R(u,t.spatialReference),M=R(f,t.spatialReference),g=a(t.spatialReference);let d=0;if(x(t.spatialReference))d=g*l(h,M,null);else{const e=y.x-c.x,t=y.y-c.y;d=g*Math.sqrt(e*e+t*t)*(n||1)}const j=new s({center:h,radius:d,radiusUnit:\"meters\",spatialReference:t.spatialReference});return T(j.rings,j.spatialReference,!1)}function L(e,t,n){const r=t.mapToLocalMultiple(e),a=r[0],s=r[1],i=Math.round(s.x-a.x),l=Math.round(s.y-a.y),y=m(n?a.x:a.x+i/2,n?a.y:a.y+l/2),c=n?i:i/2,p=n?l:l/2,x=60,u=[],f=2*Math.PI/x;for(let o=0;o<x;o++){const e=Math.cos(o*f),t=Math.sin(o*f),n=m(c*e+y.x,p*t+y.y);u.push(n)}return u.push(u[0]),T([o(u.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!1)}export{g as SNAPPING_GRAPHICS_LAYER_ID,z as createCircle,L as createEllipse,j as createMultipoint,R as createPoint,T as createPolygon,b as createPolyline,w as createRectangle,U as createSquare,d as makeMapPoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../Graphic.js\";import\"../../core/has.js\";import r from\"../../core/Evented.js\";import{HandleOwnerMixin as i}from\"../../core/HandleOwner.js\";import{makeHandle as a}from\"../../core/handleUtils.js\";import{destroyMaybe as o,isSome as s,isNone as n}from\"../../core/maybe.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import h from\"../../layers/GraphicsLayer.js\";import{createSquare as c,createRectangle as d,createCircle as u,createEllipse as m,createPolygon as y,createPolyline as g,createMultipoint as v}from\"./support/createUtils.js\";import{createViewAlignedCoordinateSystem as f}from\"./support/surfaceCoordinateSystems.js\";import{InteractiveToolBase as w}from\"../interactive/InteractiveToolBase.js\";let O=class extends(i(r.EventedMixin(w))){constructor(e){super(e),this._graphic=null,this.defaultZ=0,this.geometryType=null,this.hasZ=!0,this.mode=null,this.snappingManager=null,this.snapToScene=!1}initialize(){this.internalGraphicsLayer=new h({listMode:\"hide\",internal:!0}),this.view.map.layers.add(this.internalGraphicsLayer),this.drawOperation=this.makeDrawOperation(),this.handles.add([this.drawOperation.on(\"vertex-add\",(e=>this.onVertexAdd(e))),this.drawOperation.on(\"vertex-remove\",(e=>this.onVertexRemove(e))),this.drawOperation.on(\"vertex-update\",(e=>this.onVertexUpdate(e))),this.drawOperation.on(\"cursor-update\",(e=>this.onCursorUpdate(e))),this.drawOperation.on(\"complete\",(e=>this.onComplete(e)))]),this.complete()}destroy(){this.drawOperation=o(this.drawOperation),this._destroyAllVisualisations(),this.view.map.remove(this.internalGraphicsLayer),this.internalGraphicsLayer=o(this.internalGraphicsLayer),this._set(\"view\",null)}get canRedo(){return this.drawOperation.canRedo}get canUndo(){return this.drawOperation.canUndo}set centered(e){this._set(\"centered\",e),this._updateGraphic()}set enabled(e){this.drawOperation.interactive=e,this._set(\"enabled\",e)}set forceUniformSize(e){this._set(\"forceUniformSize\",e),this._updateGraphic()}get graphic(){return this._graphic}set graphicSymbol(e){this._set(\"graphicSymbol\",e),s(this._graphic)&&(this._graphic.symbol=e)}get updating(){var e,t;return null!=(e=null==(t=this.drawOperation)?void 0:t.updating)&&e}completeCreateOperation(){this.drawOperation.complete()}onInputEvent(e){this.drawOperation.onInputEvent(e)}redo(){this.drawOperation.redo()}reset(){}undo(){this.drawOperation.undo()}_createGraphic(e){this._graphic=new t({geometry:e,symbol:this.graphicSymbol}),this.internalGraphicsLayer.add(this._graphic),this.handles.add(this.initializeGraphic(this._graphic)),this.notifyChange(\"graphic\"),this.handles.add(a((()=>{s(this._graphic)&&(this.internalGraphicsLayer.remove(this._graphic),this._graphic=o(this._graphic))})),V)}_destroyAllVisualisations(){this.handles.remove(_.outline),this.handles.remove(_.regularVertices),this.handles.remove(_.activeVertex),this.handles.remove(V)}_getCreateOperationGeometry(e={operationComplete:!1}){if(null==this.drawOperation||0===this.drawOperation.numVertices)return null;const t=this.drawOperation.stagedVertex,r=this.drawOperation.committedVertices,i=r.slice();s(t)&&i.push(this.drawOperation.coordinateHelper.pointToArray(t));const a=s(t)?this.drawOperation.coordinateHelper.pointToArray(t):r.splice(-1)[0],o={regularVertices:null,activeVertex:null,full:null,outline:null},n=i.length,l=this.drawOperation.spatialReference,p=\"3d\"===this.view.type&&\"global\"===this.view.viewingMode;switch(this.geometryType){case\"point\":o.regularVertices=r,o.activeVertex=a,o.full=this.drawOperation.coordinateHelper.arrayToPoint(i[0]);break;case\"multipoint\":o.regularVertices=r,o.activeVertex=a,n>0&&(o.full=v(i,l));break;case\"polyline\":o.regularVertices=r,o.activeVertex=a,n>0&&(o.full=g([i],l,p));break;case\"polygon\":o.regularVertices=r,o.activeVertex=a,n>0&&(o.full=y([i],l,p,!0));break;case\"circle\":if(n>0){const t=f(this.view,i[0]);if(1===n&&e.operationComplete){const e=i[0],r=t.makeMapPoint(e[0]+G*this.view.resolution,e[1]);o.full=u([e,r],t,!0)}else 2===n&&(o.full=this.forceUniformSize?u(i,t,this.centered):m(i,t,this.centered))}break;case\"rectangle\":if(n>0){const t=f(this.view,i[0]);if(1===n&&e.operationComplete){const e=i[0],r=t.makeMapPoint(e[0]+G*this.view.resolution,e[1]);o.full=c([e,r],t,!0)}else 2===n&&(o.full=this.forceUniformSize?c(i,t,this.centered):d(i,t,this.centered))}break;default:return null}switch(this.geometryType){case\"point\":case\"multipoint\":break;case\"polyline\":case\"polygon\":n>1&&(o.outline=g([i],l,p));break;case\"circle\":case\"rectangle\":s(o.full)&&\"polygon\"===o.full.type&&(o.outline=y(o.full.rings,l,p))}return o}initializeGraphic(e){return null}onComplete(e){this._updateGraphic();let r=null;if(this.drawOperation.isCompleted){const e=this._getCreateOperationGeometry({operationComplete:!0});s(e)&&(r=new t({geometry:e.full,symbol:this.graphicSymbol,sourceLayer:this.internalGraphicsLayer,...this.graphicProperties}))}this.emit(\"complete\",{graphic:r,...e})}onCursorUpdate(e){this._updateGraphic(),this.emit(\"cursor-update\",e)}onDeactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}onVertexAdd(e){this._updateGraphic(),this.emit(\"vertex-add\",e)}onVertexRemove(e){this._updateGraphic(),this.emit(\"vertex-remove\",e)}onVertexUpdate(e){this._updateGraphic(),this.emit(\"vertex-update\",e)}_updateGraphic(){const e=this._getCreateOperationGeometry();n(e)?this._destroyAllVisualisations():(s(e.outline)?this.handles.add(this.onOutlineChanged(e.outline),_.outline):this.handles.remove(_.outline),s(e.regularVertices)?this.handles.add(this.onRegularVerticesChanged(e.regularVertices),_.regularVertices):this.handles.remove(_.regularVertices),s(e.activeVertex)?this.handles.add(this.onActiveVertexChanged(e.activeVertex),_.activeVertex):this.handles.remove(_.activeVertex),s(e.full)?n(this._graphic)?this._createGraphic(e.full):this._graphic.geometry=e.full:this.handles.remove(V))}};e([l({value:!0})],O.prototype,\"centered\",null),e([l({nonNullable:!0})],O.prototype,\"defaultZ\",void 0),e([l()],O.prototype,\"drawOperation\",void 0),e([l({value:!0})],O.prototype,\"enabled\",null),e([l({value:!0})],O.prototype,\"forceUniformSize\",null),e([l({constructOnly:!0})],O.prototype,\"geometryType\",void 0),e([l()],O.prototype,\"graphic\",null),e([l({constructOnly:!0})],O.prototype,\"graphicProperties\",void 0),e([l()],O.prototype,\"graphicSymbol\",null),e([l({constructOnly:!0})],O.prototype,\"hasZ\",void 0),e([l({constructOnly:!0})],O.prototype,\"mode\",void 0),e([l()],O.prototype,\"snappingManager\",void 0),e([l()],O.prototype,\"snapToScene\",void 0),e([l({readOnly:!0})],O.prototype,\"type\",void 0),e([l({readOnly:!0})],O.prototype,\"updating\",null),e([l({constructOnly:!0,nonNullable:!0})],O.prototype,\"view\",void 0),O=e([p(\"esri.views.draw.DrawGraphicTool\")],O);const V=\"create-operation-graphic\",_={outline:\"outline-visual\",regularVertices:\"regular-vertices-visual\",activeVertex:\"active-vertex-visual\"};function x(e){switch(e){case\"point\":case\"polyline\":case\"polygon\":case\"multipoint\":return e;case\"circle\":case\"rectangle\":return\"segment\";default:return null}}const G=48;export{O as DrawGraphicTool,x as geometryTypeToDrawOperationGeometryType};\n"],"names":["t","data","type","symbol","symbolLayers","effects","dashTemplate","lineDashEnding","controlPointEnding","enable","capStyle","joinStyle","miterLimit","width","color","l","style","size","outline","i","E","constructor","e","super","this","_visualElementGraphics","regularVertices","activeVertex","activeFillSymbol","_visualElementSymbols","activeLineSymbol","regularVerticesSymbol","activeVertexSymbol","fill","initializeGraphic","makeDrawOperation","view","manipulators","geometryType","drawingMode","mode","hasZ","defaultZ","snapToSceneEnabled","snapToScene","drawSurface","hasM","snappingManager","snappingVisualizer","internalGraphicsLayer","onActiveVertexChanged","r","s","n","x","y","spatialReference","drawOperation","geometry","attributes","displayOrder","add","graphics","sort","_","remove","onOutlineChanged","clone","paths","length","splice","onRegularVerticesChanged","points","a","prototype","readOnly","constructOnly","nonNullable","R","o","z","b","T","forEach","push","rings","reverse","isSelfIntersecting","U","mapToLocalMultiple","Math","round","c","max","abs","map","localToMap","doUnnormalization","u","f","h","M","g","d","sqrt","j","center","radius","radiusUnit","O","_graphic","initialize","listMode","internal","layers","handles","on","onVertexAdd","onVertexRemove","onVertexUpdate","onCursorUpdate","onComplete","complete","destroy","_destroyAllVisualisations","_set","canRedo","canUndo","centered","_updateGraphic","enabled","interactive","forceUniformSize","graphic","graphicSymbol","updating","completeCreateOperation","onInputEvent","redo","reset","undo","_createGraphic","notifyChange","V","_getCreateOperationGeometry","operationComplete","numVertices","stagedVertex","committedVertices","slice","coordinateHelper","pointToArray","full","p","viewingMode","arrayToPoint","makeMapPoint","G","resolution","PI","cos","sin","isCompleted","sourceLayer","graphicProperties","emit","onDeactivate","cancel","value"],"sourceRoot":""}