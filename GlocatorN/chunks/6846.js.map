{"version":3,"file":"chunks/6846.js","mappings":"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","sources":["webpack://momraGisCore/./node_modules/@arcgis/core/chunks/boundedPlane.js","webpack://momraGisCore/./node_modules/@arcgis/core/core/workers/WorkerHandle.js","webpack://momraGisCore/./node_modules/@arcgis/core/geometry/support/lineSegment.js","webpack://momraGisCore/./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/tileUtils.js","webpack://momraGisCore/./node_modules/@arcgis/core/views/2d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles2D.js","webpack://momraGisCore/./node_modules/@arcgis/core/views/3d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles3D.js","webpack://momraGisCore/./node_modules/@arcgis/core/views/support/TileTreeDebugger.js","webpack://momraGisCore/./node_modules/@arcgis/core/views/interactive/snapping/featureSources/WorkerTileTreeDebugger.js","webpack://momraGisCore/./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorkerHandle.js","webpack://momraGisCore/./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTilesSimple.js","webpack://momraGisCore/./node_modules/@arcgis/core/views/interactive/snapping/featureSources/FeatureServiceSnappingSource.js","webpack://momraGisCore/./node_modules/@arcgis/core/views/interactive/snapping/candidates/VertexSnappingCandidate.js","webpack://momraGisCore/./node_modules/@arcgis/core/views/interactive/snapping/featureSources/queryEngineUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../core/has.js\";import s from\"../core/Logger.js\";import{acosClamped as i}from\"../core/mathUtils.js\";import{ObjectStack as n}from\"../core/ObjectStack.js\";import{b as t,t as a,e as o,i as r}from\"./mat4.js\";import{c as e}from\"./mat4f64.js\";import{g as c,a as u,b as g,s as b,i as f,l,r as p,d as m,f as d,k as h,m as j,n as I,p as y}from\"./vec3.js\";import{f as P,a as N,c as v}from\"./vec3f64.js\";import{create as w,projectPointClamp as M,distance2 as S}from\"../geometry/support/lineSegment.js\";import{create as T,wrap as A,copy as V,fromVectorsAndPoint as _,normal as x,fromValues as k,intersectRay as E,intersectLineSegment as O,intersectLineSegmentClamp as U,isPointInside as q,projectPoint as B,setOffsetFromPoint as F}from\"../geometry/support/plane.js\";import{distance2 as R}from\"../geometry/support/ray.js\";import{projectPointSignedLength as Y}from\"../geometry/support/vector.js\";import{sv3d as C}from\"../geometry/support/vectorStacks.js\";const L=s.getLogger(\"esri.views.3d.support.geometryUtils.boundedPlane\");class z{constructor(){this.plane=T(),this.origin=v(),this.basis1=v(),this.basis2=v()}}function G(s=Ns){return{plane:T(s.plane),origin:N(s.origin),basis1:N(s.basis1),basis2:N(s.basis2)}}function W(s,i,n){const t=Ss.get();return t.origin=s,t.basis1=i,t.basis2=n,t.plane=A(0,0,0,0),K(t),t}function D(s,i=G()){return J(s.origin,s.basis1,s.basis2,i)}function H(s,i){c(i.origin,s.origin),c(i.basis1,s.basis1),c(i.basis2,s.basis2),V(s.plane,i.plane)}function J(s,i,n,t=G()){return c(t.origin,s),c(t.basis1,i),c(t.basis2,n),K(t),ys(t,\"fromValues()\"),t}function K(s){_(s.basis2,s.basis1,s.origin,s.plane)}function Q(s,i,n){s!==n&&D(s,n);const t=u(C.get(),ms(s),i);return g(n.origin,n.origin,t),n.plane[3]-=i,n}function X(s,i,n){return Z(i,n),Q(n,gs(s,s.origin),n),n}function Z(s,i=G()){const n=(s[2]-s[0])/2,t=(s[3]-s[1])/2;return b(i.origin,s[0]+n,s[1]+t,0),b(i.basis1,n,0,0),b(i.basis2,0,t,0),k(0,0,1,0,i.plane),i}function $(s,i,n){return!!E(s.plane,i,n)&&hs(s,n)}function ss(s,i,n){if($(s,i,n))return n;const t=is(s,i,C.get());return g(n,i.origin,u(C.get(),i.direction,f(i.origin,t)/l(i.direction))),n}function is(s,n,t){const a=vs.get();Ps(s,n,a,vs.get());let o=Number.POSITIVE_INFINITY;for(const r of Ts){const e=Is(s,r,ws.get()),u=C.get();if(O(a,e,u)){const s=p(C.get(),n.origin,u),a=Math.abs(i(m(n.direction,s)));a<o&&(o=a,c(t,u))}}return o===Number.POSITIVE_INFINITY?ns(s,n,t):t}function ns(s,i,n){if($(s,i,n))return n;const t=vs.get(),a=vs.get();Ps(s,i,t,a);let o=Number.POSITIVE_INFINITY;for(const r of Ts){const e=Is(s,r,ws.get()),u=C.get();if(U(t,e,u)){const s=R(i,u);if(!q(a,u))continue;s<o&&(o=s,c(n,u))}}return os(s,i.origin)<o&&ts(s,i.origin,n),n}function ts(s,i,n){const t=B(s.plane,i,C.get()),a=M(js(s,s.basis1),t,-1,1,C.get()),o=M(js(s,s.basis2),t,-1,1,C.get());return d(n,g(C.get(),a,o),s.origin),n}function as(s,i,n){const{origin:t,basis1:a,basis2:o}=s,r=d(C.get(),i,t),e=Y(a,r),c=Y(o,r),u=Y(ms(s),r);return b(n,e,c,u)}function os(s,i){const n=as(s,i,C.get()),{basis1:t,basis2:a}=s,o=l(t),r=l(a),e=Math.max(Math.abs(n[0])-o,0),c=Math.max(Math.abs(n[1])-r,0),u=n[2];return e*e+c*c+u*u}function rs(s,i){return Math.sqrt(os(s,i))}function es(s,i){let n=Number.NEGATIVE_INFINITY;for(const t of Ts){const a=Is(s,t,ws.get()),o=S(a,i);o>n&&(n=o)}return Math.sqrt(n)}function cs(s,i){return q(s.plane,i)&&hs(s,i)}function us(s,i,n,t){return ds(s,n,t)}function gs(s,i){const n=-s.plane[3];return Y(ms(s),i)-n}function bs(s,i,n,t){const a=gs(s,i),o=u(Ms,ms(s),n-a);return g(t,i,o),t}function fs(s,i){return h(s.basis1,i.basis1)&&h(s.basis2,i.basis2)&&h(s.origin,i.origin)}function ls(s,i,n){return s!==n&&D(s,n),t(As,i),a(As,As),j(n.basis1,s.basis1,As),j(n.basis2,s.basis2,As),j(x(n.plane),x(s.plane),As),j(n.origin,s.origin,i),F(n.plane,n.origin,n.plane),n}function ps(s,i,n,t){return s!==t&&D(s,t),o(Vs,r(Vs),i,n),j(t.basis1,s.basis1,Vs),j(t.basis2,s.basis2,Vs),K(t),t}function ms(s){return x(s.plane)}function ds(s,i,n){switch(i){case 0:c(n,s.basis1),I(n,n);break;case 1:c(n,s.basis2),I(n,n);break;case 2:c(n,ms(s))}return n}function hs(s,i){const n=d(C.get(),i,s.origin),t=y(s.basis1),a=y(s.basis2),o=m(s.basis1,n),r=m(s.basis2,n);return-o-t<0&&o-t<0&&-r-a<0&&r-a<0}function js(s,i){const n=ws.get();return c(n.origin,s.origin),c(n.vector,i),n}function Is(s,i,n){const{basis1:t,basis2:a,origin:o}=s,r=u(C.get(),t,i.origin[0]),e=u(C.get(),a,i.origin[1]);g(n.origin,r,e),g(n.origin,n.origin,o);const c=u(C.get(),t,i.direction[0]),b=u(C.get(),a,i.direction[1]);return u(n.vector,g(c,c,b),2),n}function ys(s,i){Math.abs(m(s.basis1,s.basis2)/(l(s.basis1)*l(s.basis2)))>1e-6&&L.warn(i,\"Provided basis vectors are not perpendicular\"),Math.abs(m(s.basis1,ms(s)))>1e-6&&L.warn(i,\"Basis vectors and plane normal are not perpendicular\"),Math.abs(-m(ms(s),s.origin)-s.plane[3])>1e-6&&L.warn(i,\"Plane offset is not consistent with plane origin\")}function Ps(s,i,n,t){const a=ms(s);_(a,i.direction,i.origin,n),_(x(n),a,i.origin,t)}const Ns={plane:T(),origin:P(0,0,0),basis1:P(1,0,0),basis2:P(0,1,0)},vs=new n(T),ws=new n(w),Ms=v(),Ss=new n((()=>({origin:null,basis1:null,basis2:null,plane:null}))),Ts=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],As=e(),Vs=e(),_s=Object.freeze({__proto__:null,BoundedPlaneClass:z,create:G,wrap:W,copy:D,copyWithoutVerify:H,fromValues:J,updateUnboundedPlane:K,elevate:Q,setExtent:X,fromAABoundingRect:Z,intersectRay:$,intersectRayClosestSilhouette:ss,closestPointOnSilhouette:is,closestPoint:ns,projectPoint:ts,projectPointLocal:as,distance2:os,distance:rs,distanceToSilhouette:es,extrusionContainsPoint:cs,axisAt:us,altitudeAt:gs,setAltitudeAt:bs,equals:fs,transform:ls,rotate:ps,normal:ms,UP:Ns});export{fs as A,z as B,Ns as U,D as a,_s as b,G as c,H as d,cs as e,J as f,rs as g,Z as h,$ as i,Q as j,ss as k,is as l,ns as m,ms as n,as as o,ts as p,os as q,ps as r,X as s,ls as t,K as u,es as v,W as w,us as x,gs as y,bs as z};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{remove as e}from\"../arrayUtils.js\";import{makeHandle as t}from\"../handleUtils.js\";import r from\"../Logger.js\";import{isSome as s}from\"../maybe.js\";import{throwIfAborted as i}from\"../promiseUtils.js\";import{open as o}from\"./workers.js\";const h=r.getLogger(\"esri.core.workers.WorkerHandle\");class n{constructor(e,t,r,s={}){this._mainMethod=t,this._listeners=[],this._promise=o(e,{...s,schedule:r}).then((e=>{if(void 0===this._thread){this._thread=e,this._promise=null,s.hasInitialize&&this.broadcast({},\"initialize\");for(const e of this._listeners)this._connectListener(e)}else e.close()})),this._promise.catch((t=>h.error(`Failed to initialize ${e} worker: ${t}`)))}on(r,i){const o={removed:!1,eventName:r,callback:i,threadHandle:null};return this._listeners.push(o),this._connectListener(o),t((()=>{o.removed=!0,e(this._listeners,o),this._thread&&s(o.threadHandle)&&o.threadHandle.remove()}))}destroy(){this._thread&&(this._thread.close(),this._thread=null),this._promise=null}invoke(e,t){return this.invokeMethod(this._mainMethod,e,t)}invokeMethod(e,t,r){if(this._thread){const s=this.getTransferList(t,e);return this._thread.invoke(e,t,{transferList:s,signal:r})}return this._promise?this._promise.then((()=>(i(r),this.invokeMethod(e,t,r)))):Promise.reject(null)}broadcast(e,t){return this._thread?Promise.all(this._thread.broadcast(t,e)).then((()=>{})):this._promise?this._promise.then((()=>this.broadcast(e,t))):Promise.reject()}get promise(){return this._promise}_connectListener(e){this._thread&&this._thread.on(e.eventName,e.callback).then((t=>{e.removed||(e.threadHandle=t)}))}}export{n as WorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../core/mathUtils.js\";import{ObjectStack as r}from\"../../core/ObjectStack.js\";import{g as n,f as o,d as i,a as e,b as c,p as u,h as s}from\"../../chunks/vec3.js\";import{a,c as g}from\"../../chunks/vec3f64.js\";import{sv3d as f}from\"./vectorStacks.js\";function v(t){return t?{origin:a(t.origin),vector:a(t.vector)}:{origin:g(),vector:g()}}function p(t,r){const n=x.get();return n.origin=t,n.vector=r,n}function h(t,r=v()){return m(t.origin,t.vector,r)}function m(t,r,o=v()){return n(o.origin,t),n(o.vector,r),o}function l(t,r,i=v()){return n(i.origin,t),o(i.vector,r,t),i}function b(r,n){const c=o(f.get(),n,r.origin),u=i(r.vector,c),s=i(r.vector,r.vector),a=t(u/s,0,1),g=o(f.get(),e(f.get(),r.vector,a),c);return i(g,g)}function M(t,r){return Math.sqrt(b(t,r))}function d(t,r,n){return A(t,r,0,1,n)}function j(t,r,n){return c(n,t.origin,e(n,t.vector,r))}function A(r,n,s,a,g){const{vector:v,origin:p}=r,h=o(f.get(),n,p),m=i(v,h)/u(v);return e(g,v,t(m,s,a)),c(g,g,r.origin)}function B(t,r){if(q(t,p(r.origin,r.direction),!1,w)){const{tA:r,pB:n,distance2:o}=w;if(r>=0&&r<=1)return o;if(r<0)return s(t.origin,n);if(r>1)return s(c(f.get(),t.origin,t.vector),n)}return null}function k(t,r,o){return!!q(t,r,!0,w)&&(n(o,w.pA),!0)}function S(t,r){return q(t,r,!0,w)?w.distance2:null}function q(r,n,o,i){const e=1e-6,u=r.origin,a=c(f.get(),u,r.vector),g=n.origin,v=c(f.get(),g,n.vector),p=f.get(),h=f.get();if(p[0]=u[0]-g[0],p[1]=u[1]-g[1],p[2]=u[2]-g[2],h[0]=v[0]-g[0],h[1]=v[1]-g[1],h[2]=v[2]-g[2],Math.abs(h[0])<e&&Math.abs(h[1])<e&&Math.abs(h[2])<e)return!1;const m=f.get();if(m[0]=a[0]-u[0],m[1]=a[1]-u[1],m[2]=a[2]-u[2],Math.abs(m[0])<e&&Math.abs(m[1])<e&&Math.abs(m[2])<e)return!1;const l=p[0]*h[0]+p[1]*h[1]+p[2]*h[2],b=h[0]*m[0]+h[1]*m[1]+h[2]*m[2],M=p[0]*m[0]+p[1]*m[1]+p[2]*m[2],d=h[0]*h[0]+h[1]*h[1]+h[2]*h[2],j=(m[0]*m[0]+m[1]*m[1]+m[2]*m[2])*d-b*b;if(Math.abs(j)<e)return!1;let A=(l*b-M*d)/j,B=(l+b*A)/d;o&&(A=t(A,0,1),B=t(B,0,1));const k=f.get(),S=f.get();return k[0]=u[0]+A*m[0],k[1]=u[1]+A*m[1],k[2]=u[2]+A*m[2],S[0]=g[0]+B*h[0],S[1]=g[1]+B*h[1],S[2]=g[2]+B*h[2],i.tA=A,i.tB=B,i.pA=k,i.pB=S,i.distance2=s(k,S),!0}const w={tA:0,tB:0,pA:g(),pB:g(),distance2:0},x=new r((()=>({origin:null,vector:null})));export{S as closestLineSegmentDistance2,k as closestLineSegmentPoint,B as closestRayDistance2,h as copy,v as create,M as distance,b as distance2,l as fromPoints,m as fromValues,j as pointAt,d as projectPoint,A as projectPointClamp,p as wrap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{s}from\"../../../../../chunks/vec3.js\";import{c as n}from\"../../../../../chunks/vec4f64.js\";import{c as o,g as c,h as r}from\"../../../../../chunks/boundedPlane.js\";function t(n,o){return r(o.extent,e),c(e,s(a,n.x,n.y,0))}const e=o(),a=n();export{t as distanceToTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../../chunks/tslib.es6.js\";import t from\"../../../../../../core/Accessor.js\";import{HandleOwnerMixin as r}from\"../../../../../../core/HandleOwner.js\";import{isSome as i,isNone as o}from\"../../../../../../core/maybe.js\";import{property as s}from\"../../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../../core/arrayUtils.js\";import\"../../../../../../core/has.js\";import\"../../../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../../../core/accessorSupport/decorators/subclass.js\";import{distanceToTile as n}from\"../../../../../interactive/snapping/featureSources/featureServiceSource/tileUtils.js\";import{scaleBoundsPredicate as a}from\"../../../../../support/layerViewUtils.js\";let c=class extends(r(t)){constructor(e){super(e),this.pointOfInterest=null}get tiles(){const e=this.tilesCoveringView,t=i(this.pointOfInterest)?this.pointOfInterest:this.view.center;return e.sort(((e,r)=>n(t,e)-n(t,r))),e}scaleEnabled(){return a(this.view.scale,this.layer.minScale||0,this.layer.maxScale||0)}get tilesCoveringView(){if(!this.view.ready||!this.view.featuresTilingScheme||!this.view.state||o(this.tileInfo))return[];if(!this.scaleEnabled)return[];const{spans:e,lodInfo:t}=this.view.featuresTilingScheme.getTileCoverage(this.view.state,0),{level:r}=t,i=[];for(const{row:o,colFrom:s,colTo:l}of e)for(let e=s;e<=l;e++){const s={id:null,level:r,row:o,col:t.normalizeCol(e)};this.tileInfo.updateTileInfo(s),i.push(s)}return i}get tileInfo(){var e,t;return null!=(e=null==(t=this.view.featuresTilingScheme)?void 0:t.tileInfo)?e:null}get tileSize(){return i(this.tileInfo)?this.tileInfo.size[0]:256}initialize(){this.handles.add(this.watch(\"view.state.viewpoint\",(()=>this.notifyChange(\"tilesCoveringView\")),!0))}};e([s({readOnly:!0})],c.prototype,\"tiles\",null),e([s({readOnly:!0})],c.prototype,\"scaleEnabled\",null),e([s({readOnly:!0})],c.prototype,\"tilesCoveringView\",null),e([s({readOnly:!0})],c.prototype,\"tileInfo\",null),e([s({readOnly:!0})],c.prototype,\"tileSize\",null),e([s({constructOnly:!0})],c.prototype,\"view\",void 0),e([s({constructOnly:!0})],c.prototype,\"layer\",void 0),e([s()],c.prototype,\"pointOfInterest\",void 0),c=e([l(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiles2D\")],c);export{c as FeatureServiceTiles2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../../chunks/tslib.es6.js\";import{HandleOwner as t}from\"../../../../../../core/HandleOwner.js\";import{isSome as r,isNone as i}from\"../../../../../../core/maybe.js\";import{init as s}from\"../../../../../../core/watchUtils.js\";import{property as o}from\"../../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../../core/arrayUtils.js\";import\"../../../../../../core/has.js\";import\"../../../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../../../core/accessorSupport/decorators/subclass.js\";import{distanceToTile as n}from\"../../../../../interactive/snapping/featureSources/featureServiceSource/tileUtils.js\";let a=class extends t{constructor(e){super(e),this.pointOfInterest=null}get tiles(){const e=this.tilesCoveringView,t=this.effectivePointOfInterest;if(r(t)){const r=e.map((e=>n(t,e)));for(let i=1;i<r.length;i++)if(r[i-1]>r[i])return e.sort(((e,r)=>n(t,e)-n(t,r))),e.slice()}return e}get tilesCoveringView(){var e,t;return this.filterTiles(null==(e=this.view.featureTiles)||null==(t=e.tiles)?void 0:t.toArray()).map(u)}get tileInfo(){var e,t;return null!=(e=null==(t=this.view.featureTiles)?void 0:t.tilingScheme.toTileInfo())?e:null}get tileSize(){var e,t;return null!=(e=null==(t=this.view.featureTiles)?void 0:t.tileSize)?e:256}get effectivePointOfInterest(){var e;const t=this.pointOfInterest;return r(t)?t:null==(e=this.view.pointsOfInterest)?void 0:e.focus.location}initialize(){this.handles.add(s(this.view,\"featureTiles\",(e=>{this.handles.remove(p),e&&this.handles.add(e.addClient(),p)})))}filterTiles(e){if(i(e))return[];return e.filter((e=>Math.abs(e.measures.screenRect[3]-e.measures.screenRect[1])>c&&2===e.measures.visibility))}};function u({lij:[e,t,r],extent:i}){return{id:`${e}/${t}/${r}`,level:e,row:t,col:r,extent:i}}e([o({readOnly:!0})],a.prototype,\"tiles\",null),e([o({readOnly:!0})],a.prototype,\"tilesCoveringView\",null),e([o({readOnly:!0})],a.prototype,\"tileInfo\",null),e([o({readOnly:!0})],a.prototype,\"tileSize\",null),e([o({constructOnly:!0})],a.prototype,\"view\",void 0),e([o()],a.prototype,\"pointOfInterest\",void 0),e([o()],a.prototype,\"effectivePointOfInterest\",null),a=e([l(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiles3D\")],a);const c=50,p=\"feature-tiles\";export{a as FeatureServiceTiles3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import s from\"../../Color.js\";import o from\"../../Graphic.js\";import t from\"../../core/Accessor.js\";import{lerp as r}from\"../../core/mathUtils.js\";import{isSome as l,isNone as i}from\"../../core/maybe.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import h from\"../../symbols/PointSymbol3D.js\";import p from\"../../symbols/SimpleFillSymbol.js\";import c from\"../../symbols/TextSymbol.js\";import y from\"../../symbols/TextSymbol3DLayer.js\";const m=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]];let b=class extends t{constructor(e){super(e),this.updating=!1,this.enablePolygons=!0,this.enableLabels=!0,this._polygons=new Map,this._labels=new Map,this._enabled=!0}initialize(){this._symbols=m.map((e=>new p({color:[e[0],e[1],e[2],.6],outline:{color:\"black\",width:1}}))),this.update()}destroy(){this._enabled=!1,this.clear()}get enabled(){return this._enabled}set enabled(e){this._enabled!==e&&(this._enabled=e,this.update())}update(){if(!this._enabled)return void this.clear();const e=e=>{if(l(e.label))return e.label;let s=e.lij.toString();return l(e.loadPriority)&&(s+=` (${e.loadPriority})`),s},t=this.getTiles(),a=new Array,n=new Set((this._labels.size,this._labels.keys()));t.forEach(((p,m)=>{const b=p.lij.toString();n.delete(b);const d=p.lij[0],g=p.geometry;if(this.enablePolygons&&!this._polygons.has(b)){const e=new o({geometry:g,symbol:this._symbols[d%this._symbols.length]});this._polygons.set(b,e),a.push(e)}if(this.enableLabels){const n=e(p),d=m/(t.length-1),u=r(0,200,d),_=r(20,6,d)/.75,f=l(p.loadPriority)&&p.loadPriority>=t.length,w=new s([u,f?0:u,f?0:u]),j=\"3d\"===this.view.type?()=>new h({verticalOffset:{screenLength:40/.75},callout:{type:\"line\",color:\"white\",border:{color:\"black\"}},symbolLayers:[new y({text:n,halo:{color:\"white\",size:1/.75},material:{color:w},size:_})]}):()=>new c({text:n,haloColor:\"white\",haloSize:1/.75,color:w,size:_});if(this._labels.has(b)){const e=this._labels.get(b),s=j();(i(e.symbol)||JSON.stringify(s)!==JSON.stringify(e.symbol))&&(e.symbol=s)}else{const e=new o({geometry:g.extent.center,symbol:j()});this._labels.set(b,e),a.push(e)}}}));const p=new Array;n.forEach((e=>{this._polygons.has(e)&&(p.push(this._polygons.get(e)),this._polygons.delete(e)),this._labels.has(e)&&(p.push(this._labels.get(e)),this._labels.delete(e))})),this.view.graphics.removeMany(p),this.view.graphics.addMany(a)}clear(){this.view.graphics.removeMany(Array.from(this._polygons.values())),this.view.graphics.removeMany(Array.from(this._labels.values())),this._polygons.clear(),this._labels.clear()}};e([a({constructOnly:!0})],b.prototype,\"view\",void 0),e([a({readOnly:!0})],b.prototype,\"updating\",void 0),e([a()],b.prototype,\"enabled\",null),b=e([n(\"esri.views.support.TileTreeDebugger\")],b);export{b as TileTreeDebugger};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Handles.js\";import{makeHandle as r}from\"../../../../core/handleUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../../../geometry/Polygon.js\";import{toExtent as i}from\"../../../../geometry/support/aaBoundingRect.js\";import{TileTreeDebugger as n}from\"../../../support/TileTreeDebugger.js\";let d=class extends n{constructor(e){super(e),this.handles=new t}initialize(){const e=setInterval((()=>this.fetchDebugInfo()),2e3);this.handles.add(r((()=>clearInterval(e))))}destroy(){this.handles.destroy()}getTiles(){if(!this.debugInfo)return[];const e=new Map,t=new Map;this.debugInfo.storedTiles.forEach((t=>{e.set(t.data.id,t.featureCount)})),this.debugInfo.pendingTiles.forEach((r=>{e.set(r.data.id,r.featureCount),t.set(r.data.id,r.state)}));const r=r=>{var o;const s=t.get(r),a=null!=(o=e.get(r))?o:\"?\";return s?`${s}:${a}\\n${r}`:`store:${a}\\n${r}`},o=new Map;return this.debugInfo.storedTiles.forEach((e=>{o.set(e.data.id,e.data)})),this.debugInfo.pendingTiles.forEach((e=>{o.set(e.data.id,e.data)})),Array.from(o.values()).map((e=>({lij:[e.level,e.row,e.col],geometry:a.fromExtent(i(e.extent,this.view.spatialReference)),label:r(e.id)})))}fetchDebugInfo(){this.handle.getDebugInfo(null).then((e=>{this.debugInfo=e,this.update()}))}};e([o({constructOnly:!0})],d.prototype,\"handle\",void 0),d=e([s(\"esri.views.interactive.snapping.featureSources.WorkerTileTreeDebugger\")],d);export{d as WorkerTileTreeDebugger};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{HandleOwner as t}from\"../../../../../core/HandleOwner.js\";import{isNone as i,isSome as r}from\"../../../../../core/maybe.js\";import{whenOrAbort as o}from\"../../../../../core/promiseUtils.js\";import{property as a}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{WorkerHandle as s}from\"../../../../../core/workers/WorkerHandle.js\";import{featureGeometryTypeKebabDictionary as d}from\"../../../../../geometry/support/typeUtils.js\";let l=class extends t{constructor(e){super(e),this.availability=0,this.workerHandleUpdating=!0,this.editId=0}get updating(){return this.updatingHandles.updating||this.workerHandleUpdating}destroy(){this.workerHandle.destroy()}initialize(){this.workerHandle=new p(this.schedule),this.handles.add([this.workerHandle.on(\"notify-updating\",(({updating:e})=>this.workerHandleUpdating=e)),this.workerHandle.on(\"notify-availability\",(({availability:e})=>this._set(\"availability\",e)))])}async setup(e,t){const r=this.serviceInfoFromLayer(e.layer);if(i(r))return;const o={configuration:this.convertConfiguration(e.configuration),serviceInfo:r,spatialReference:e.spatialReference.toJSON()};await this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"setup\",o,t)),this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"whenNotUpdating\",{},t))}async configure(e,t){const i=this.convertConfiguration(e);await this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"configure\",i,t)),this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"whenNotUpdating\",{},t))}async refresh(e){await this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"refresh\",{},e)),this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"whenNotUpdating\",{},e))}async fetchCandidates(e,t){const i={distance:e.distance,point:e.coordinateHelper.vectorToPoint(e.point).toJSON(),types:e.types,filter:r(e.filter)?e.filter.createQuery().toJSON():null};return this.workerHandle.invoke(i,t)}async updateTiles(e,t){const i={tiles:e.tiles,tileInfo:r(e.tileInfo)?e.tileInfo.toJSON():null,tileSize:e.tileSize};await this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"updateTiles\",i,t)),this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"whenNotUpdating\",{},t))}async applyEdits(e,t){var i,r,a,n,s,d;const l=this.editId++,p={id:l};await this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"beginApplyEdits\",p,t)),this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"whenNotUpdating\",{},t));const u=await this.updatingHandles.addPromise(o(e.result,t)),c={id:l,edits:{addedFeatures:null!=(i=null==(r=u.addedFeatures)?void 0:r.map((({objectId:e})=>e)))?i:[],deletedFeatures:null!=(a=null==(n=u.deletedFeatures)?void 0:n.map((({objectId:e,globalId:t})=>({objectId:e,globalId:t}))))?a:[],updatedFeatures:null!=(s=null==(d=u.updatedFeatures)?void 0:d.map((({objectId:e})=>e)))?s:[]}};await this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"endApplyEdits\",c,t)),this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"whenNotUpdating\",{},t))}getDebugInfo(e){return this.workerHandle.invokeMethod(\"getDebugInfo\",{},e)}convertConfiguration(e){return{filter:r(e.filter)?e.filter.toJSON():null,customParameters:e.customParameters}}serviceInfoFromLayer(e){var t;return\"multipatch\"===e.geometryType||\"mesh\"===e.geometryType?null:{url:e.parsedUrl.path,fields:e.fields.map((e=>e.toJSON())),geometryType:d.toJSON(e.geometryType),capabilities:e.capabilities,objectIdField:e.objectIdField,globalIdField:e.globalIdField,spatialReference:e.spatialReference.toJSON(),timeInfo:null==(t=e.timeInfo)?void 0:t.toJSON()}}};e([a({constructOnly:!0})],l.prototype,\"schedule\",void 0),e([a({readOnly:!0})],l.prototype,\"updating\",null),e([a({readOnly:!0})],l.prototype,\"availability\",void 0),e([a()],l.prototype,\"workerHandleUpdating\",void 0),l=e([n(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceSnappingSourceWorkerHandle\")],l);class p extends s{constructor(e){super(\"FeatureServiceSnappingSourceWorker\",\"fetchCandidates\",e,{strategy:\"dedicated\"})}getTransferList(){return[]}}export{l as FeatureServiceSnappingSourceWorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import r from\"../../../../../core/Accessor.js\";import{property as t}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../../../geometry/Point.js\";import{fromValues as i}from\"../../../../../geometry/support/aaBoundingRect.js\";import p from\"../../../../../layers/support/LOD.js\";import l from\"../../../../../layers/support/TileInfo.js\";let n=class extends r{constructor(e){super(e),this.pointOfInterest=null}get tiles(){return[{id:\"0/0/0\",level:0,row:0,col:0,extent:i(-1e8,-1e8,1e8,1e8)}]}get tileInfo(){return new l({origin:new s({x:-1e8,y:1e8,spatialReference:this.layer.spatialReference}),size:[512,512],lods:[new p({level:0,scale:1,resolution:390625})],spatialReference:this.layer.spatialReference})}get tileSize(){return this.tileInfo.size[0]}};e([t({readOnly:!0})],n.prototype,\"tiles\",null),e([t({readOnly:!0})],n.prototype,\"tileInfo\",null),e([t({readOnly:!0})],n.prototype,\"tileSize\",null),e([t({constructOnly:!0})],n.prototype,\"layer\",void 0),e([t()],n.prototype,\"pointOfInterest\",void 0),n=e([o(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTilesSimple\")],n);export{n as FeatureServiceTilesSimple};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{HandleOwnerMixin as t}from\"../../../../core/HandleOwner.js\";import{destroyHandle as i}from\"../../../../core/handleUtils.js\";import{isSome as s}from\"../../../../core/maybe.js\";import{react as a,sync as o,initial as n}from\"../../../../core/reactiveUtils.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as u}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{FeatureServiceTiles2D as c}from\"../../../2d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles2D.js\";import{FeatureServiceTiles3D as d}from\"../../../3d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles3D.js\";import{convertSnappingCandidate as p}from\"./queryEngineUtils.js\";import{WorkerTileTreeDebugger as h}from\"./WorkerTileTreeDebugger.js\";import{FeatureServiceSnappingSourceWorkerHandle as f}from\"./featureServiceSource/FeatureServiceSnappingSourceWorkerHandle.js\";import{FeatureServiceTilesSimple as m}from\"./featureServiceSource/FeatureServiceTilesSimple.js\";import y from\"../../../support/debugFlags.js\";let g=class extends(t(r)){constructor(e){super(e)}get updateTilesParameters(){return{tiles:this.tilesOfInterest.tiles,tileInfo:this.tilesOfInterest.tileInfo,tileSize:this.tilesOfInterest.tileSize}}get updating(){return this.workerHandle.updating||this.updatingHandles.updating}get configuration(){return{filter:this.layer.createQuery(),customParameters:this.layer.customParameters}}get availability(){return this.workerHandle.availability}get layer(){return this.layerSource.layer}initialize(){const e=this.view;if(s(e))switch(e.type){case\"2d\":this.tilesOfInterest=new c({view:e,layer:this.layer}),this.workerHandle=new f;break;case\"3d\":{const r=e.resourceController;this.tilesOfInterest=new d({view:e}),this.workerHandle=new f({schedule:e=>r.schedule(e)});break}}else this.tilesOfInterest=new m({layer:this.layer}),this.workerHandle=new f;this.handles.add([i(this.workerHandle)]),this.workerHandle.setup({layer:this.layer,spatialReference:this.spatialReference,configuration:this.configuration},null),this.updatingHandles.add(this,\"updateTilesParameters\",(()=>this.workerHandle.updateTiles(this.updateTilesParameters,null)),2),this.handles.add([a((()=>this.configuration),(e=>this.workerHandle.configure(e,null)),o)]),s(e)&&this.handles.add(a((()=>y.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES),(r=>{r&&!this.debug?(this.debug=new h({view:e,handle:this.workerHandle}),this.handles.add(i(this.debug),\"debug\")):!r&&this.debug&&this.handles.remove(\"debug\")}),n)),this.handles.add(this.layerSource.layer.on(\"apply-edits\",(e=>{this.workerHandle.applyEdits(e,null)})))}refresh(){this.workerHandle.refresh(null)}async fetchCandidates(e,r){return this.tilesOfInterest.pointOfInterest=e.coordinateHelper.vectorToPoint(e.point),(await this.workerHandle.fetchCandidates({...e,filter:null},r)).candidates.map((r=>p(r,e.coordinateHelper)))}getDebugInfo(e){return this.workerHandle.getDebugInfo(e)}};e([l({constructOnly:!0})],g.prototype,\"spatialReference\",void 0),e([l({constructOnly:!0})],g.prototype,\"layerSource\",void 0),e([l({constructOnly:!0})],g.prototype,\"view\",void 0),e([l()],g.prototype,\"tilesOfInterest\",void 0),e([l({readOnly:!0})],g.prototype,\"updateTilesParameters\",null),e([l({readOnly:!0})],g.prototype,\"updating\",null),e([l({readOnly:!0})],g.prototype,\"configuration\",null),e([l({readOnly:!0})],g.prototype,\"availability\",null),g=e([u(\"esri.views.interactive.snapping.featureSources.FeatureServiceSnappingSource\")],g);export{g as FeatureServiceSnappingSource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{PointConstraint as t}from\"../SnappingConstraint.js\";import{FeatureSnappingCandidate as n}from\"./FeatureSnappingCandidate.js\";import{PointSnappingHint as r}from\"../hints/PointSnappingHint.js\";class i extends n{constructor(n){super({...n,constraint:new t(n.coordinateHelper,n.targetPoint)})}get hints(){return[new r(this.targetPoint)]}}export{i as VertexSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{EdgeSnappingCandidate as e}from\"../candidates/EdgeSnappingCandidate.js\";import{VertexSnappingCandidate as t}from\"../candidates/VertexSnappingCandidate.js\";function o(o,r){switch(o.type){case\"edge\":return new e({coordinateHelper:r,edgeStart:r.pointToVector(o.start),edgeEnd:r.pointToVector(o.end),targetPoint:r.pointToVector(o.target),objectId:o.objectId});case\"vertex\":return new t({coordinateHelper:r,targetPoint:r.pointToVector(o.target),objectId:o.objectId})}}export{o as convertSnappingCandidate};\n"],"names":["L","G","s","Ns","plane","origin","basis1","basis2","D","i","J","n","t","K","Math","abs","l","warn","ms","ys","Q","Z","$","hs","is","a","vs","get","Ps","o","Number","POSITIVE_INFINITY","r","Ts","e","Is","ws","u","direction","ns","os","ts","js","as","c","max","rs","sqrt","gs","vector","b","Ms","Ss","As","Vs","Object","freeze","__proto__","BoundedPlaneClass","constructor","this","create","wrap","copy","copyWithoutVerify","fromValues","updateUnboundedPlane","elevate","setExtent","fromAABoundingRect","intersectRay","intersectRayClosestSilhouette","closestPointOnSilhouette","closestPoint","projectPoint","projectPointLocal","distance2","distance","distanceToSilhouette","NEGATIVE_INFINITY","extrusionContainsPoint","axisAt","ds","altitudeAt","setAltitudeAt","equals","transform","rotate","normal","UP","h","_mainMethod","_listeners","_promise","schedule","then","_thread","hasInitialize","broadcast","_connectListener","close","catch","error","on","removed","eventName","callback","threadHandle","push","remove","destroy","invoke","invokeMethod","getTransferList","transferList","signal","Promise","reject","all","promise","v","m","g","j","A","p","B","q","x","w","tA","pB","k","pA","M","d","S","tB","extent","y","super","pointOfInterest","tiles","tilesCoveringView","view","center","sort","scaleEnabled","scale","layer","minScale","maxScale","ready","featuresTilingScheme","state","tileInfo","spans","lodInfo","getTileCoverage","level","row","colFrom","colTo","id","col","normalizeCol","updateTileInfo","tileSize","size","initialize","handles","add","watch","notifyChange","readOnly","prototype","constructOnly","effectivePointOfInterest","map","length","slice","filterTiles","featureTiles","toArray","tilingScheme","toTileInfo","pointsOfInterest","focus","location","addClient","filter","measures","screenRect","visibility","lij","updating","enablePolygons","enableLabels","_polygons","Map","_labels","_enabled","_symbols","color","outline","width","update","clear","enabled","getTiles","Array","Set","keys","forEach","toString","delete","geometry","has","symbol","set","label","loadPriority","_","f","type","verticalOffset","screenLength","callout","border","symbolLayers","text","halo","material","haloColor","haloSize","JSON","stringify","graphics","removeMany","addMany","from","values","setInterval","fetchDebugInfo","clearInterval","debugInfo","storedTiles","data","featureCount","pendingTiles","spatialReference","handle","getDebugInfo","availability","workerHandleUpdating","editId","updatingHandles","workerHandle","_set","async","serviceInfoFromLayer","configuration","convertConfiguration","serviceInfo","toJSON","addPromise","point","coordinateHelper","vectorToPoint","types","createQuery","result","edits","addedFeatures","objectId","deletedFeatures","globalId","updatedFeatures","customParameters","geometryType","url","parsedUrl","path","fields","capabilities","objectIdField","globalIdField","timeInfo","strategy","lods","resolution","updateTilesParameters","tilesOfInterest","layerSource","resourceController","setup","updateTiles","configure","debug","applyEdits","refresh","fetchCandidates","candidates","constraint","targetPoint","hints","edgeStart","pointToVector","start","edgeEnd","end","target"],"sourceRoot":""}