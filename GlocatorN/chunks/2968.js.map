{"version":3,"file":"chunks/2968.js","mappings":"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","sources":["webpack://momraGisCore/./node_modules/@arcgis/core/identity/IdentityForm.js","webpack://momraGisCore/./node_modules/tabbable/dist/index.esm.js","webpack://momraGisCore/./node_modules/focus-trap/dist/focus-trap.esm.js","webpack://momraGisCore/./node_modules/@arcgis/core/identity/IdentityModal.js","webpack://momraGisCore/./node_modules/@arcgis/core/identity/OAuthCredential.js","webpack://momraGisCore/./node_modules/@arcgis/core/identity/OAuthInfo.js","webpack://momraGisCore/./node_modules/@arcgis/core/identity/ServerInfo.js","webpack://momraGisCore/./node_modules/@arcgis/core/identity/IdentityManagerBase.js","webpack://momraGisCore/./node_modules/@arcgis/core/identity/IdentityManager.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../chunks/tslib.es6.js\";import{property as e}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";import{substitute as r}from\"../intl/substitute.js\";import o from\"../widgets/Widget.js\";import{storeNode as i}from\"../widgets/support/widgetUtils.js\";import{messageBundle as n}from\"../widgets/support/decorators/messageBundle.js\";import\"../core/Logger.js\";import{tsx as u}from\"../widgets/support/jsxFactory.js\";const a={base:\"esri-identity-form\",group:\"esri-identity-form__group\",label:\"esri-identity-form__label\",footer:\"esri-identity-form__footer\",esriInput:\"esri-input\",esriButton:\"esri-button\",esriButtonSecondary:\"esri-button--secondary\"},l=\"ArcGIS Online\";let p=class extends o{constructor(s,e){super(s,e),this._usernameInputNode=null,this._passwordInputNode=null,this.messages=null,this.signingIn=!1,this.server=null,this.resource=null,this.error=null,this.oAuthPrompt=!1}render(){const{error:s,server:e,resource:t,signingIn:o,oAuthPrompt:n,messages:p}=this,d=u(\"div\",{class:a.group},r(n?p.oAuthInfo:p.info,{server:/\\.arcgis\\.com/i.test(e)?l:e,resource:`(${t||p.lblItem})`})),c=n?null:u(\"div\",{class:a.group,key:\"username\"},u(\"label\",{class:a.label},p.lblUser,u(\"input\",{value:\"\",required:!0,autocomplete:\"off\",spellcheck:!1,type:\"text\",bind:this,afterCreate:i,\"data-node-ref\":\"_usernameInputNode\",class:a.esriInput}))),m=n?null:u(\"div\",{class:a.group,key:\"password\"},u(\"label\",{class:a.label},p.lblPwd,u(\"input\",{value:\"\",required:!0,type:\"password\",bind:this,afterCreate:i,\"data-node-ref\":\"_passwordInputNode\",class:a.esriInput}))),h=u(\"div\",{class:this.classes(a.group,a.footer)},u(\"input\",{type:\"submit\",disabled:!!o,value:o?p.lblSigning:p.lblOk,class:a.esriButton}),u(\"input\",{type:\"button\",value:p.lblCancel,bind:this,onclick:this._cancel,class:this.classes(a.esriButton,a.esriButtonSecondary)})),g=s?u(\"div\",null,s.details&&s.details.httpStatus?p.invalidUser:p.noAuthService):null;return u(\"form\",{class:a.base,bind:this,onsubmit:this._submit},d,g,c,m,h)}_cancel(){this._set(\"signingIn\",!1),this._usernameInputNode&&(this._usernameInputNode.value=\"\"),this._passwordInputNode&&(this._passwordInputNode.value=\"\"),this.emit(\"cancel\")}_submit(s){s.preventDefault(),this._set(\"signingIn\",!0);const e=this.oAuthPrompt?{}:{username:this._usernameInputNode&&this._usernameInputNode.value,password:this._passwordInputNode&&this._passwordInputNode.value};this.emit(\"submit\",e)}};s([e(),n(\"esri/identity/t9n/identity\")],p.prototype,\"messages\",void 0),s([e()],p.prototype,\"signingIn\",void 0),s([e()],p.prototype,\"server\",void 0),s([e()],p.prototype,\"resource\",void 0),s([e()],p.prototype,\"error\",void 0),s([e()],p.prototype,\"oAuthPrompt\",void 0),p=s([t(\"esri.identity.IdentityForm\")],p);const d=p;export{d as default};\n","/*!\n* tabbable 5.2.1\n* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE\n*/\nvar candidateSelectors = ['input', 'select', 'textarea', 'a[href]', 'button', '[tabindex]', 'audio[controls]', 'video[controls]', '[contenteditable]:not([contenteditable=\"false\"])', 'details>summary:first-of-type', 'details'];\nvar candidateSelector = /* #__PURE__ */candidateSelectors.join(',');\nvar matches = typeof Element === 'undefined' ? function () {} : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\nvar getCandidates = function getCandidates(el, includeContainer, filter) {\n  var candidates = Array.prototype.slice.apply(el.querySelectorAll(candidateSelector));\n\n  if (includeContainer && matches.call(el, candidateSelector)) {\n    candidates.unshift(el);\n  }\n\n  candidates = candidates.filter(filter);\n  return candidates;\n};\n\nvar isContentEditable = function isContentEditable(node) {\n  return node.contentEditable === 'true';\n};\n\nvar getTabindex = function getTabindex(node) {\n  var tabindexAttr = parseInt(node.getAttribute('tabindex'), 10);\n\n  if (!isNaN(tabindexAttr)) {\n    return tabindexAttr;\n  } // Browsers do not return `tabIndex` correctly for contentEditable nodes;\n  // so if they don't have a tabindex attribute specifically set, assume it's 0.\n\n\n  if (isContentEditable(node)) {\n    return 0;\n  } // in Chrome, <details/>, <audio controls/> and <video controls/> elements get a default\n  //  `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,\n  //  yet they are still part of the regular tab order; in FF, they get a default\n  //  `tabIndex` of 0; since Chrome still puts those elements in the regular tab\n  //  order, consider their tab index to be 0.\n\n\n  if ((node.nodeName === 'AUDIO' || node.nodeName === 'VIDEO' || node.nodeName === 'DETAILS') && node.getAttribute('tabindex') === null) {\n    return 0;\n  }\n\n  return node.tabIndex;\n};\n\nvar sortOrderedTabbables = function sortOrderedTabbables(a, b) {\n  return a.tabIndex === b.tabIndex ? a.documentOrder - b.documentOrder : a.tabIndex - b.tabIndex;\n};\n\nvar isInput = function isInput(node) {\n  return node.tagName === 'INPUT';\n};\n\nvar isHiddenInput = function isHiddenInput(node) {\n  return isInput(node) && node.type === 'hidden';\n};\n\nvar isDetailsWithSummary = function isDetailsWithSummary(node) {\n  var r = node.tagName === 'DETAILS' && Array.prototype.slice.apply(node.children).some(function (child) {\n    return child.tagName === 'SUMMARY';\n  });\n  return r;\n};\n\nvar getCheckedRadio = function getCheckedRadio(nodes, form) {\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked && nodes[i].form === form) {\n      return nodes[i];\n    }\n  }\n};\n\nvar isTabbableRadio = function isTabbableRadio(node) {\n  if (!node.name) {\n    return true;\n  }\n\n  var radioScope = node.form || node.ownerDocument;\n\n  var queryRadios = function queryRadios(name) {\n    return radioScope.querySelectorAll('input[type=\"radio\"][name=\"' + name + '\"]');\n  };\n\n  var radioSet;\n\n  if (typeof window !== 'undefined' && typeof window.CSS !== 'undefined' && typeof window.CSS.escape === 'function') {\n    radioSet = queryRadios(window.CSS.escape(node.name));\n  } else {\n    try {\n      radioSet = queryRadios(node.name);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.error('Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s', err.message);\n      return false;\n    }\n  }\n\n  var checked = getCheckedRadio(radioSet, node.form);\n  return !checked || checked === node;\n};\n\nvar isRadio = function isRadio(node) {\n  return isInput(node) && node.type === 'radio';\n};\n\nvar isNonTabbableRadio = function isNonTabbableRadio(node) {\n  return isRadio(node) && !isTabbableRadio(node);\n};\n\nvar isHidden = function isHidden(node, displayCheck) {\n  if (getComputedStyle(node).visibility === 'hidden') {\n    return true;\n  }\n\n  var isDirectSummary = matches.call(node, 'details>summary:first-of-type');\n  var nodeUnderDetails = isDirectSummary ? node.parentElement : node;\n\n  if (matches.call(nodeUnderDetails, 'details:not([open]) *')) {\n    return true;\n  }\n\n  if (!displayCheck || displayCheck === 'full') {\n    while (node) {\n      if (getComputedStyle(node).display === 'none') {\n        return true;\n      }\n\n      node = node.parentElement;\n    }\n  } else if (displayCheck === 'non-zero-area') {\n    var _node$getBoundingClie = node.getBoundingClientRect(),\n        width = _node$getBoundingClie.width,\n        height = _node$getBoundingClie.height;\n\n    return width === 0 && height === 0;\n  }\n\n  return false;\n}; // form fields (nested) inside a disabled fieldset are not focusable/tabbable\n//  unless they are in the _first_ <legend> element of the top-most disabled\n//  fieldset\n\n\nvar isDisabledFromFieldset = function isDisabledFromFieldset(node) {\n  if (isInput(node) || node.tagName === 'SELECT' || node.tagName === 'TEXTAREA' || node.tagName === 'BUTTON') {\n    var parentNode = node.parentElement;\n\n    while (parentNode) {\n      if (parentNode.tagName === 'FIELDSET' && parentNode.disabled) {\n        // look for the first <legend> as an immediate child of the disabled\n        //  <fieldset>: if the node is in that legend, it'll be enabled even\n        //  though the fieldset is disabled; otherwise, the node is in a\n        //  secondary/subsequent legend, or somewhere else within the fieldset\n        //  (however deep nested) and it'll be disabled\n        for (var i = 0; i < parentNode.children.length; i++) {\n          var child = parentNode.children.item(i);\n\n          if (child.tagName === 'LEGEND') {\n            if (child.contains(node)) {\n              return false;\n            } // the node isn't in the first legend (in doc order), so no matter\n            //  where it is now, it'll be disabled\n\n\n            return true;\n          }\n        } // the node isn't in a legend, so no matter where it is now, it'll be disabled\n\n\n        return true;\n      }\n\n      parentNode = parentNode.parentElement;\n    }\n  } // else, node's tabbable/focusable state should not be affected by a fieldset's\n  //  enabled/disabled state\n\n\n  return false;\n};\n\nvar isNodeMatchingSelectorFocusable = function isNodeMatchingSelectorFocusable(options, node) {\n  if (node.disabled || isHiddenInput(node) || isHidden(node, options.displayCheck) || // For a details element with a summary, the summary element gets the focus\n  isDetailsWithSummary(node) || isDisabledFromFieldset(node)) {\n    return false;\n  }\n\n  return true;\n};\n\nvar isNodeMatchingSelectorTabbable = function isNodeMatchingSelectorTabbable(options, node) {\n  if (!isNodeMatchingSelectorFocusable(options, node) || isNonTabbableRadio(node) || getTabindex(node) < 0) {\n    return false;\n  }\n\n  return true;\n};\n\nvar tabbable = function tabbable(el, options) {\n  options = options || {};\n  var regularTabbables = [];\n  var orderedTabbables = [];\n  var candidates = getCandidates(el, options.includeContainer, isNodeMatchingSelectorTabbable.bind(null, options));\n  candidates.forEach(function (candidate, i) {\n    var candidateTabindex = getTabindex(candidate);\n\n    if (candidateTabindex === 0) {\n      regularTabbables.push(candidate);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        node: candidate\n      });\n    }\n  });\n  var tabbableNodes = orderedTabbables.sort(sortOrderedTabbables).map(function (a) {\n    return a.node;\n  }).concat(regularTabbables);\n  return tabbableNodes;\n};\n\nvar focusable = function focusable(el, options) {\n  options = options || {};\n  var candidates = getCandidates(el, options.includeContainer, isNodeMatchingSelectorFocusable.bind(null, options));\n  return candidates;\n};\n\nvar isTabbable = function isTabbable(node, options) {\n  options = options || {};\n\n  if (!node) {\n    throw new Error('No node provided');\n  }\n\n  if (matches.call(node, candidateSelector) === false) {\n    return false;\n  }\n\n  return isNodeMatchingSelectorTabbable(options, node);\n};\n\nvar focusableCandidateSelector = /* #__PURE__ */candidateSelectors.concat('iframe').join(',');\n\nvar isFocusable = function isFocusable(node, options) {\n  options = options || {};\n\n  if (!node) {\n    throw new Error('No node provided');\n  }\n\n  if (matches.call(node, focusableCandidateSelector) === false) {\n    return false;\n  }\n\n  return isNodeMatchingSelectorFocusable(options, node);\n};\n\nexport { focusable, isFocusable, isTabbable, tabbable };\n//# sourceMappingURL=index.esm.js.map\n","/*!\n* focus-trap 6.7.3\n* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE\n*/\nimport { tabbable, focusable, isTabbable, isFocusable } from 'tabbable';\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar activeFocusTraps = function () {\n  var trapQueue = [];\n  return {\n    activateTrap: function activateTrap(trap) {\n      if (trapQueue.length > 0) {\n        var activeTrap = trapQueue[trapQueue.length - 1];\n\n        if (activeTrap !== trap) {\n          activeTrap.pause();\n        }\n      }\n\n      var trapIndex = trapQueue.indexOf(trap);\n\n      if (trapIndex === -1) {\n        trapQueue.push(trap);\n      } else {\n        // move this existing trap to the front of the queue\n        trapQueue.splice(trapIndex, 1);\n        trapQueue.push(trap);\n      }\n    },\n    deactivateTrap: function deactivateTrap(trap) {\n      var trapIndex = trapQueue.indexOf(trap);\n\n      if (trapIndex !== -1) {\n        trapQueue.splice(trapIndex, 1);\n      }\n\n      if (trapQueue.length > 0) {\n        trapQueue[trapQueue.length - 1].unpause();\n      }\n    }\n  };\n}();\n\nvar isSelectableInput = function isSelectableInput(node) {\n  return node.tagName && node.tagName.toLowerCase() === 'input' && typeof node.select === 'function';\n};\n\nvar isEscapeEvent = function isEscapeEvent(e) {\n  return e.key === 'Escape' || e.key === 'Esc' || e.keyCode === 27;\n};\n\nvar isTabEvent = function isTabEvent(e) {\n  return e.key === 'Tab' || e.keyCode === 9;\n};\n\nvar delay = function delay(fn) {\n  return setTimeout(fn, 0);\n}; // Array.find/findIndex() are not supported on IE; this replicates enough\n//  of Array.findIndex() for our needs\n\n\nvar findIndex = function findIndex(arr, fn) {\n  var idx = -1;\n  arr.every(function (value, i) {\n    if (fn(value)) {\n      idx = i;\n      return false; // break\n    }\n\n    return true; // next\n  });\n  return idx;\n};\n/**\n * Get an option's value when it could be a plain value, or a handler that provides\n *  the value.\n * @param {*} value Option's value to check.\n * @param {...*} [params] Any parameters to pass to the handler, if `value` is a function.\n * @returns {*} The `value`, or the handler's returned value.\n */\n\n\nvar valueOrHandler = function valueOrHandler(value) {\n  for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    params[_key - 1] = arguments[_key];\n  }\n\n  return typeof value === 'function' ? value.apply(void 0, params) : value;\n};\n\nvar getActualTarget = function getActualTarget(event) {\n  // NOTE: If the trap is _inside_ a shadow DOM, event.target will always be the\n  //  shadow host. However, event.target.composedPath() will be an array of\n  //  nodes \"clicked\" from inner-most (the actual element inside the shadow) to\n  //  outer-most (the host HTML document). If we have access to composedPath(),\n  //  then use its first element; otherwise, fall back to event.target (and\n  //  this only works for an _open_ shadow DOM; otherwise,\n  //  composedPath()[0] === event.target always).\n  return event.target.shadowRoot && typeof event.composedPath === 'function' ? event.composedPath()[0] : event.target;\n};\n\nvar createFocusTrap = function createFocusTrap(elements, userOptions) {\n  // SSR: a live trap shouldn't be created in this type of environment so this\n  //  should be safe code to execute if the `document` option isn't specified\n  var doc = (userOptions === null || userOptions === void 0 ? void 0 : userOptions.document) || document;\n\n  var config = _objectSpread2({\n    returnFocusOnDeactivate: true,\n    escapeDeactivates: true,\n    delayInitialFocus: true\n  }, userOptions);\n\n  var state = {\n    // @type {Array<HTMLElement>}\n    containers: [],\n    // list of objects identifying the first and last tabbable nodes in all containers/groups in\n    //  the trap\n    // NOTE: it's possible that a group has no tabbable nodes if nodes get removed while the trap\n    //  is active, but the trap should never get to a state where there isn't at least one group\n    //  with at least one tabbable node in it (that would lead to an error condition that would\n    //  result in an error being thrown)\n    // @type {Array<{\n    //   container: HTMLElement,\n    //   firstTabbableNode: HTMLElement|null,\n    //   lastTabbableNode: HTMLElement|null,\n    //   nextTabbableNode: (node: HTMLElement, forward: boolean) => HTMLElement|undefined\n    // }>}\n    tabbableGroups: [],\n    nodeFocusedBeforeActivation: null,\n    mostRecentlyFocusedNode: null,\n    active: false,\n    paused: false,\n    // timer ID for when delayInitialFocus is true and initial focus in this trap\n    //  has been delayed during activation\n    delayInitialFocusTimer: undefined\n  };\n  var trap; // eslint-disable-line prefer-const -- some private functions reference it, and its methods reference private functions, so we must declare here and define later\n\n  var getOption = function getOption(configOverrideOptions, optionName, configOptionName) {\n    return configOverrideOptions && configOverrideOptions[optionName] !== undefined ? configOverrideOptions[optionName] : config[configOptionName || optionName];\n  };\n\n  var containersContain = function containersContain(element) {\n    return !!(element && state.containers.some(function (container) {\n      return container.contains(element);\n    }));\n  };\n  /**\n   * Gets the node for the given option, which is expected to be an option that\n   *  can be either a DOM node, a string that is a selector to get a node, `false`\n   *  (if a node is explicitly NOT given), or a function that returns any of these\n   *  values.\n   * @param {string} optionName\n   * @returns {undefined | false | HTMLElement | SVGElement} Returns\n   *  `undefined` if the option is not specified; `false` if the option\n   *  resolved to `false` (node explicitly not given); otherwise, the resolved\n   *  DOM node.\n   * @throws {Error} If the option is set, not `false`, and is not, or does not\n   *  resolve to a node.\n   */\n\n\n  var getNodeForOption = function getNodeForOption(optionName) {\n    var optionValue = config[optionName];\n\n    if (typeof optionValue === 'function') {\n      for (var _len2 = arguments.length, params = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        params[_key2 - 1] = arguments[_key2];\n      }\n\n      optionValue = optionValue.apply(void 0, params);\n    }\n\n    if (!optionValue) {\n      if (optionValue === undefined || optionValue === false) {\n        return optionValue;\n      } // else, empty string (invalid), null (invalid), 0 (invalid)\n\n\n      throw new Error(\"`\".concat(optionName, \"` was specified but was not a node, or did not return a node\"));\n    }\n\n    var node = optionValue; // could be HTMLElement, SVGElement, or non-empty string at this point\n\n    if (typeof optionValue === 'string') {\n      node = doc.querySelector(optionValue); // resolve to node, or null if fails\n\n      if (!node) {\n        throw new Error(\"`\".concat(optionName, \"` as selector refers to no known node\"));\n      }\n    }\n\n    return node;\n  };\n\n  var getInitialFocusNode = function getInitialFocusNode() {\n    var node = getNodeForOption('initialFocus'); // false explicitly indicates we want no initialFocus at all\n\n    if (node === false) {\n      return false;\n    }\n\n    if (node === undefined) {\n      // option not specified: use fallback options\n      if (containersContain(doc.activeElement)) {\n        node = doc.activeElement;\n      } else {\n        var firstTabbableGroup = state.tabbableGroups[0];\n        var firstTabbableNode = firstTabbableGroup && firstTabbableGroup.firstTabbableNode; // NOTE: `fallbackFocus` option function cannot return `false` (not supported)\n\n        node = firstTabbableNode || getNodeForOption('fallbackFocus');\n      }\n    }\n\n    if (!node) {\n      throw new Error('Your focus-trap needs to have at least one focusable element');\n    }\n\n    return node;\n  };\n\n  var updateTabbableNodes = function updateTabbableNodes() {\n    state.tabbableGroups = state.containers.map(function (container) {\n      var tabbableNodes = tabbable(container); // NOTE: if we have tabbable nodes, we must have focusable nodes; focusable nodes\n      //  are a superset of tabbable nodes\n\n      var focusableNodes = focusable(container);\n\n      if (tabbableNodes.length > 0) {\n        return {\n          container: container,\n          firstTabbableNode: tabbableNodes[0],\n          lastTabbableNode: tabbableNodes[tabbableNodes.length - 1],\n\n          /**\n           * Finds the __tabbable__ node that follows the given node in the specified direction,\n           *  in this container, if any.\n           * @param {HTMLElement} node\n           * @param {boolean} [forward] True if going in forward tab order; false if going\n           *  in reverse.\n           * @returns {HTMLElement|undefined} The next tabbable node, if any.\n           */\n          nextTabbableNode: function nextTabbableNode(node) {\n            var forward = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n            // NOTE: If tabindex is positive (in order to manipulate the tab order separate\n            //  from the DOM order), this __will not work__ because the list of focusableNodes,\n            //  while it contains tabbable nodes, does not sort its nodes in any order other\n            //  than DOM order, because it can't: Where would you place focusable (but not\n            //  tabbable) nodes in that order? They have no order, because they aren't tabbale...\n            // Support for positive tabindex is already broken and hard to manage (possibly\n            //  not supportable, TBD), so this isn't going to make things worse than they\n            //  already are, and at least makes things better for the majority of cases where\n            //  tabindex is either 0/unset or negative.\n            // FYI, positive tabindex issue: https://github.com/focus-trap/focus-trap/issues/375\n            var nodeIdx = focusableNodes.findIndex(function (n) {\n              return n === node;\n            });\n\n            if (forward) {\n              return focusableNodes.slice(nodeIdx + 1).find(function (n) {\n                return isTabbable(n);\n              });\n            }\n\n            return focusableNodes.slice(0, nodeIdx).reverse().find(function (n) {\n              return isTabbable(n);\n            });\n          }\n        };\n      }\n\n      return undefined;\n    }).filter(function (group) {\n      return !!group;\n    }); // remove groups with no tabbable nodes\n    // throw if no groups have tabbable nodes and we don't have a fallback focus node either\n\n    if (state.tabbableGroups.length <= 0 && !getNodeForOption('fallbackFocus') // returning false not supported for this option\n    ) {\n      throw new Error('Your focus-trap must have at least one container with at least one tabbable node in it at all times');\n    }\n  };\n\n  var tryFocus = function tryFocus(node) {\n    if (node === false) {\n      return;\n    }\n\n    if (node === doc.activeElement) {\n      return;\n    }\n\n    if (!node || !node.focus) {\n      tryFocus(getInitialFocusNode());\n      return;\n    }\n\n    node.focus({\n      preventScroll: !!config.preventScroll\n    });\n    state.mostRecentlyFocusedNode = node;\n\n    if (isSelectableInput(node)) {\n      node.select();\n    }\n  };\n\n  var getReturnFocusNode = function getReturnFocusNode(previousActiveElement) {\n    var node = getNodeForOption('setReturnFocus', previousActiveElement);\n    return node ? node : node === false ? false : previousActiveElement;\n  }; // This needs to be done on mousedown and touchstart instead of click\n  // so that it precedes the focus event.\n\n\n  var checkPointerDown = function checkPointerDown(e) {\n    var target = getActualTarget(e);\n\n    if (containersContain(target)) {\n      // allow the click since it ocurred inside the trap\n      return;\n    }\n\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      // immediately deactivate the trap\n      trap.deactivate({\n        // if, on deactivation, we should return focus to the node originally-focused\n        //  when the trap was activated (or the configured `setReturnFocus` node),\n        //  then assume it's also OK to return focus to the outside node that was\n        //  just clicked, causing deactivation, as long as that node is focusable;\n        //  if it isn't focusable, then return focus to the original node focused\n        //  on activation (or the configured `setReturnFocus` node)\n        // NOTE: by setting `returnFocus: false`, deactivate() will do nothing,\n        //  which will result in the outside click setting focus to the node\n        //  that was clicked, whether it's focusable or not; by setting\n        //  `returnFocus: true`, we'll attempt to re-focus the node originally-focused\n        //  on activation (or the configured `setReturnFocus` node)\n        returnFocus: config.returnFocusOnDeactivate && !isFocusable(target)\n      });\n      return;\n    } // This is needed for mobile devices.\n    // (If we'll only let `click` events through,\n    // then on mobile they will be blocked anyways if `touchstart` is blocked.)\n\n\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      // allow the click outside the trap to take place\n      return;\n    } // otherwise, prevent the click\n\n\n    e.preventDefault();\n  }; // In case focus escapes the trap for some strange reason, pull it back in.\n\n\n  var checkFocusIn = function checkFocusIn(e) {\n    var target = getActualTarget(e);\n    var targetContained = containersContain(target); // In Firefox when you Tab out of an iframe the Document is briefly focused.\n\n    if (targetContained || target instanceof Document) {\n      if (targetContained) {\n        state.mostRecentlyFocusedNode = target;\n      }\n    } else {\n      // escaped! pull it back in to where it just left\n      e.stopImmediatePropagation();\n      tryFocus(state.mostRecentlyFocusedNode || getInitialFocusNode());\n    }\n  }; // Hijack Tab events on the first and last focusable nodes of the trap,\n  // in order to prevent focus from escaping. If it escapes for even a\n  // moment it can end up scrolling the page and causing confusion so we\n  // kind of need to capture the action at the keydown phase.\n\n\n  var checkTab = function checkTab(e) {\n    var target = getActualTarget(e);\n    updateTabbableNodes();\n    var destinationNode = null;\n\n    if (state.tabbableGroups.length > 0) {\n      // make sure the target is actually contained in a group\n      // NOTE: the target may also be the container itself if it's focusable\n      //  with tabIndex='-1' and was given initial focus\n      var containerIndex = findIndex(state.tabbableGroups, function (_ref) {\n        var container = _ref.container;\n        return container.contains(target);\n      });\n      var containerGroup = containerIndex >= 0 ? state.tabbableGroups[containerIndex] : undefined;\n\n      if (containerIndex < 0) {\n        // target not found in any group: quite possible focus has escaped the trap,\n        //  so bring it back in to...\n        if (e.shiftKey) {\n          // ...the last node in the last group\n          destinationNode = state.tabbableGroups[state.tabbableGroups.length - 1].lastTabbableNode;\n        } else {\n          // ...the first node in the first group\n          destinationNode = state.tabbableGroups[0].firstTabbableNode;\n        }\n      } else if (e.shiftKey) {\n        // REVERSE\n        // is the target the first tabbable node in a group?\n        var startOfGroupIndex = findIndex(state.tabbableGroups, function (_ref2) {\n          var firstTabbableNode = _ref2.firstTabbableNode;\n          return target === firstTabbableNode;\n        });\n\n        if (startOfGroupIndex < 0 && (containerGroup.container === target || isFocusable(target) && !isTabbable(target) && !containerGroup.nextTabbableNode(target, false))) {\n          // an exception case where the target is either the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus)\n          //  and is not followed by any other tabbable node, in which\n          //  case, we should handle shift+tab as if focus were on the container's\n          //  first tabbable node, and go to the last tabbable node of the LAST group\n          startOfGroupIndex = containerIndex;\n        }\n\n        if (startOfGroupIndex >= 0) {\n          // YES: then shift+tab should go to the last tabbable node in the\n          //  previous group (and wrap around to the last tabbable node of\n          //  the LAST group if it's the first tabbable node of the FIRST group)\n          var destinationGroupIndex = startOfGroupIndex === 0 ? state.tabbableGroups.length - 1 : startOfGroupIndex - 1;\n          var destinationGroup = state.tabbableGroups[destinationGroupIndex];\n          destinationNode = destinationGroup.lastTabbableNode;\n        }\n      } else {\n        // FORWARD\n        // is the target the last tabbable node in a group?\n        var lastOfGroupIndex = findIndex(state.tabbableGroups, function (_ref3) {\n          var lastTabbableNode = _ref3.lastTabbableNode;\n          return target === lastTabbableNode;\n        });\n\n        if (lastOfGroupIndex < 0 && (containerGroup.container === target || isFocusable(target) && !isTabbable(target) && !containerGroup.nextTabbableNode(target))) {\n          // an exception case where the target is the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus)\n          //  and is not followed by any other tabbable node, in which\n          //  case, we should handle tab as if focus were on the container's\n          //  last tabbable node, and go to the first tabbable node of the FIRST group\n          lastOfGroupIndex = containerIndex;\n        }\n\n        if (lastOfGroupIndex >= 0) {\n          // YES: then tab should go to the first tabbable node in the next\n          //  group (and wrap around to the first tabbable node of the FIRST\n          //  group if it's the last tabbable node of the LAST group)\n          var _destinationGroupIndex = lastOfGroupIndex === state.tabbableGroups.length - 1 ? 0 : lastOfGroupIndex + 1;\n\n          var _destinationGroup = state.tabbableGroups[_destinationGroupIndex];\n          destinationNode = _destinationGroup.firstTabbableNode;\n        }\n      }\n    } else {\n      // NOTE: the fallbackFocus option does not support returning false to opt-out\n      destinationNode = getNodeForOption('fallbackFocus');\n    }\n\n    if (destinationNode) {\n      e.preventDefault();\n      tryFocus(destinationNode);\n    } // else, let the browser take care of [shift+]tab and move the focus\n\n  };\n\n  var checkKey = function checkKey(e) {\n    if (isEscapeEvent(e) && valueOrHandler(config.escapeDeactivates, e) !== false) {\n      e.preventDefault();\n      trap.deactivate();\n      return;\n    }\n\n    if (isTabEvent(e)) {\n      checkTab(e);\n      return;\n    }\n  };\n\n  var checkClick = function checkClick(e) {\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      return;\n    }\n\n    var target = getActualTarget(e);\n\n    if (containersContain(target)) {\n      return;\n    }\n\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      return;\n    }\n\n    e.preventDefault();\n    e.stopImmediatePropagation();\n  }; //\n  // EVENT LISTENERS\n  //\n\n\n  var addListeners = function addListeners() {\n    if (!state.active) {\n      return;\n    } // There can be only one listening focus trap at a time\n\n\n    activeFocusTraps.activateTrap(trap); // Delay ensures that the focused element doesn't capture the event\n    // that caused the focus trap activation.\n\n    state.delayInitialFocusTimer = config.delayInitialFocus ? delay(function () {\n      tryFocus(getInitialFocusNode());\n    }) : tryFocus(getInitialFocusNode());\n    doc.addEventListener('focusin', checkFocusIn, true);\n    doc.addEventListener('mousedown', checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('touchstart', checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('click', checkClick, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('keydown', checkKey, {\n      capture: true,\n      passive: false\n    });\n    return trap;\n  };\n\n  var removeListeners = function removeListeners() {\n    if (!state.active) {\n      return;\n    }\n\n    doc.removeEventListener('focusin', checkFocusIn, true);\n    doc.removeEventListener('mousedown', checkPointerDown, true);\n    doc.removeEventListener('touchstart', checkPointerDown, true);\n    doc.removeEventListener('click', checkClick, true);\n    doc.removeEventListener('keydown', checkKey, true);\n    return trap;\n  }; //\n  // TRAP DEFINITION\n  //\n\n\n  trap = {\n    activate: function activate(activateOptions) {\n      if (state.active) {\n        return this;\n      }\n\n      var onActivate = getOption(activateOptions, 'onActivate');\n      var onPostActivate = getOption(activateOptions, 'onPostActivate');\n      var checkCanFocusTrap = getOption(activateOptions, 'checkCanFocusTrap');\n\n      if (!checkCanFocusTrap) {\n        updateTabbableNodes();\n      }\n\n      state.active = true;\n      state.paused = false;\n      state.nodeFocusedBeforeActivation = doc.activeElement;\n\n      if (onActivate) {\n        onActivate();\n      }\n\n      var finishActivation = function finishActivation() {\n        if (checkCanFocusTrap) {\n          updateTabbableNodes();\n        }\n\n        addListeners();\n\n        if (onPostActivate) {\n          onPostActivate();\n        }\n      };\n\n      if (checkCanFocusTrap) {\n        checkCanFocusTrap(state.containers.concat()).then(finishActivation, finishActivation);\n        return this;\n      }\n\n      finishActivation();\n      return this;\n    },\n    deactivate: function deactivate(deactivateOptions) {\n      if (!state.active) {\n        return this;\n      }\n\n      clearTimeout(state.delayInitialFocusTimer); // noop if undefined\n\n      state.delayInitialFocusTimer = undefined;\n      removeListeners();\n      state.active = false;\n      state.paused = false;\n      activeFocusTraps.deactivateTrap(trap);\n      var onDeactivate = getOption(deactivateOptions, 'onDeactivate');\n      var onPostDeactivate = getOption(deactivateOptions, 'onPostDeactivate');\n      var checkCanReturnFocus = getOption(deactivateOptions, 'checkCanReturnFocus');\n\n      if (onDeactivate) {\n        onDeactivate();\n      }\n\n      var returnFocus = getOption(deactivateOptions, 'returnFocus', 'returnFocusOnDeactivate');\n\n      var finishDeactivation = function finishDeactivation() {\n        delay(function () {\n          if (returnFocus) {\n            tryFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation));\n          }\n\n          if (onPostDeactivate) {\n            onPostDeactivate();\n          }\n        });\n      };\n\n      if (returnFocus && checkCanReturnFocus) {\n        checkCanReturnFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation)).then(finishDeactivation, finishDeactivation);\n        return this;\n      }\n\n      finishDeactivation();\n      return this;\n    },\n    pause: function pause() {\n      if (state.paused || !state.active) {\n        return this;\n      }\n\n      state.paused = true;\n      removeListeners();\n      return this;\n    },\n    unpause: function unpause() {\n      if (!state.paused || !state.active) {\n        return this;\n      }\n\n      state.paused = false;\n      updateTabbableNodes();\n      addListeners();\n      return this;\n    },\n    updateContainerElements: function updateContainerElements(containerElements) {\n      var elementsAsArray = [].concat(containerElements).filter(Boolean);\n      state.containers = elementsAsArray.map(function (element) {\n        return typeof element === 'string' ? doc.querySelector(element) : element;\n      });\n\n      if (state.active) {\n        updateTabbableNodes();\n      }\n\n      return this;\n    }\n  }; // initialize container elements\n\n  trap.updateContainerElements(elements);\n  return trap;\n};\n\nexport { createFocusTrap };\n//# sourceMappingURL=focus-trap.esm.js.map\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import{makeHandle as e}from\"../core/handleUtils.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import i from\"../widgets/Widget.js\";import{isWidget as r}from\"../widgets/support/widget.js\";import{createFocusTrap as n}from\"focus-trap\";import{messageBundle as a}from\"../widgets/support/decorators/messageBundle.js\";import{tsx as c}from\"../widgets/support/jsxFactory.js\";const l={base:\"esri-identity-modal\",open:\"esri-identity-modal--open\",closed:\"esri-identity-modal--closed\",title:\"esri-identity-modal__title\",dialog:\"esri-identity-modal__dialog\",content:\"esri-identity-modal__content\",closeButton:\"esri-identity-modal__close-button\",iconClose:\"esri-icon-close\"};let d=class extends i{constructor(t,e){super(t,e),this.container=document.createElement(\"div\"),this.content=null,this.open=!1,this._close=()=>{this.open=!1},document.body.appendChild(this.container),this.own(this.watch(\"open\",(()=>this._toggleFocusTrap())))}destroy(){this._destroyFocusTrap()}render(){const t=this.id,{open:e,content:o,title:s,messages:i}=this,r=e&&!!o,n={[l.open]:r,[l.closed]:!r},a=c(\"button\",{class:l.closeButton,\"aria-label\":i.close,title:i.close,bind:this,onclick:this._close},c(\"span\",{\"aria-hidden\":\"true\",class:l.iconClose})),d=`${t}_title`,p=`${t}_content`,u=s?c(\"h1\",{id:d,class:l.title},s):null,m=r?c(\"div\",{bind:this,class:l.dialog,role:\"dialog\",\"aria-labelledby\":d,\"aria-describedby\":p,afterCreate:this._createFocusTrap},a,u,this._renderContent(p)):null;return c(\"div\",{tabIndex:-1,class:this.classes(l.base,n)},m)}_destroyFocusTrap(){var t;null==(t=this._focusTrap)||t.deactivate({onDeactivate:null}),this._focusTrap=null}_toggleFocusTrap(){const{_focusTrap:t,open:e}=this;t&&(e?t.activate():t.deactivate())}_createFocusTrap(t){this._destroyFocusTrap();const o=requestAnimationFrame((()=>{this._focusTrap=n(t,{initialFocus:\"input\",onDeactivate:this._close}),this._toggleFocusTrap()}));this.own(e((()=>cancelAnimationFrame(o))))}_renderContent(t){const e=this.content;return\"string\"==typeof e?c(\"div\",{class:l.content,id:t,innerHTML:e}):r(e)?c(\"div\",{class:l.content,id:t},e.render()):e instanceof HTMLElement?c(\"div\",{class:l.content,id:t,bind:e,afterCreate:this._attachToNode}):null}_attachToNode(t){const e=this;t.appendChild(e)}};t([o({readOnly:!0})],d.prototype,\"container\",void 0),t([o()],d.prototype,\"content\",void 0),t([o()],d.prototype,\"open\",void 0),t([o(),a(\"esri/t9n/common\")],d.prototype,\"messages\",void 0),t([o({aliasOf:\"messages.auth.signIn\"})],d.prototype,\"title\",void 0),d=t([s(\"esri.identity.IdentityModal\")],d);const p=d;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nconst t=\"esriJSAPIOAuth\";class s{constructor(t,s){this.oAuthInfo=null,this.storage=null,this.appId=null,this.expires=null,this.ssl=null,this.token=null,this.userId=null,this.oAuthInfo=t,this.storage=s,this._init()}isValid(){let t=!1;if(this.oAuthInfo&&this.token&&this.userId){const s=Date.now();if(this.expires>s){(this.expires-s)/1e3>60*this.oAuthInfo.minTimeUntilExpiration&&(t=!0)}}return t}save(){if(!this.storage)return;const s=this._load(),e=this.oAuthInfo;if(e&&e.authNamespace&&e.portalUrl){let o=s[e.authNamespace];o||(o=s[e.authNamespace]={}),o[e.portalUrl]={appId:this.appId=e.appId,expires:this.expires,ssl:this.ssl,token:this.token,userId:this.userId};try{this.storage.setItem(t,JSON.stringify(s))}catch(i){console.log(i)}}}destroy(){const s=this._load(),e=this.oAuthInfo;if(e&&e.appId&&e.portalUrl&&this.token&&this.expires>Date.now()){const t=e.portalUrl.replace(/^http:/i,\"https:\")+\"/sharing/rest/oauth2/revokeToken\",s=new FormData;if(s.append(\"f\",\"json\"),s.append(\"auth_token\",this.token),s.append(\"client_id\",e.appId),s.append(\"token_type_hint\",\"access_token\"),\"function\"==typeof navigator.sendBeacon)navigator.sendBeacon(t,s);else{const e=new XMLHttpRequest;e.open(\"POST\",t),e.send(s)}}if(e&&e.authNamespace&&e.portalUrl&&this.storage){const o=s[e.authNamespace];if(o){delete o[e.portalUrl];try{this.storage.setItem(t,JSON.stringify(s))}catch(i){console.log(i)}}}e&&(e._oAuthCred=null,this.oAuthInfo=null)}_init(){const t=this._load(),s=this.oAuthInfo;if(s&&s.authNamespace&&s.portalUrl){let e=t[s.authNamespace];e&&(e=e[s.portalUrl],e&&(this.appId=e.appId,this.expires=e.expires,this.ssl=e.ssl,this.token=e.token,this.userId=e.userId))}}_load(){let s={};if(this.storage){const i=this.storage.getItem(t);if(i)try{s=JSON.parse(i)}catch(e){console.log(e)}}return s}}s.prototype.declaredClass=\"esri.identity.OAuthCredential\";export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import{JSONSupport as t}from\"../core/JSONSupport.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../core/accessorSupport/decorators/subclass.js\";var s;let p=s=class extends t{constructor(o){super(o),this._oAuthCred=null,this.appId=null,this.authNamespace=\"/\",this.expiration=20160,this.forceLogin=!1,this.forceUserId=!1,this.locale=null,this.minTimeUntilExpiration=30,this.popup=!1,this.popupCallbackUrl=\"oauth-callback.html\",this.popupWindowFeatures=\"height=490,width=800,resizable,scrollbars,status\",this.portalUrl=\"https://www.arcgis.com\",this.preserveUrlHash=!1,this.userId=null}clone(){return s.fromJSON(this.toJSON())}};o([r({json:{write:!0}})],p.prototype,\"appId\",void 0),o([r({json:{write:!0}})],p.prototype,\"authNamespace\",void 0),o([r({json:{write:!0}})],p.prototype,\"expiration\",void 0),o([r({json:{write:!0}})],p.prototype,\"forceLogin\",void 0),o([r({json:{write:!0}})],p.prototype,\"forceUserId\",void 0),o([r({json:{write:!0}})],p.prototype,\"locale\",void 0),o([r({json:{write:!0}})],p.prototype,\"minTimeUntilExpiration\",void 0),o([r({json:{write:!0}})],p.prototype,\"popup\",void 0),o([r({json:{write:!0}})],p.prototype,\"popupCallbackUrl\",void 0),o([r({json:{write:!0}})],p.prototype,\"popupWindowFeatures\",void 0),o([r({json:{write:!0}})],p.prototype,\"portalUrl\",void 0),o([r({json:{write:!0}})],p.prototype,\"preserveUrlHash\",void 0),o([r({json:{write:!0}})],p.prototype,\"userId\",void 0),p=s=o([e(\"esri.identity.OAuthInfo\")],p);const i=p;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import{JSONSupport as r}from\"../core/JSONSupport.js\";import{property as e}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";let s=class extends r{constructor(o){super(o),this.adminTokenServiceUrl=null,this.currentVersion=null,this.hasPortal=null,this.hasServer=null,this.owningSystemUrl=null,this.owningTenant=null,this.server=null,this.shortLivedTokenValidity=null,this.tokenServiceUrl=null,this.webTierAuth=null}};o([e({json:{write:!0}})],s.prototype,\"adminTokenServiceUrl\",void 0),o([e({json:{write:!0}})],s.prototype,\"currentVersion\",void 0),o([e({json:{write:!0}})],s.prototype,\"hasPortal\",void 0),o([e({json:{write:!0}})],s.prototype,\"hasServer\",void 0),o([e({json:{write:!0}})],s.prototype,\"owningSystemUrl\",void 0),o([e({json:{write:!0}})],s.prototype,\"owningTenant\",void 0),o([e({json:{write:!0}})],s.prototype,\"server\",void 0),o([e({json:{write:!0}})],s.prototype,\"shortLivedTokenValidity\",void 0),o([e({json:{write:!0}})],s.prototype,\"tokenServiceUrl\",void 0),o([e({json:{write:!0}})],s.prototype,\"webTierAuth\",void 0),s=o([t(\"esri.identity.ServerInfo\")],s);const i=s;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../config.js\";import{id as s}from\"../kernel.js\";import r from\"../request.js\";import i from\"../core/Error.js\";import n from\"../core/Evented.js\";import{on as o}from\"../core/events.js\";import{fixJson as a}from\"../core/lang.js\";import{getDeepValue as h}from\"../core/object.js\";import{createResolver as l,onAbort as c,isAborted as d}from\"../core/promiseUtils.js\";import{Url as u,urlToObject as p,hasSameOrigin as _,queryToObject as g,normalize as f,getProxyRule as m,makeAbsolute as v,objectToQuery as S}from\"../core/urlUtils.js\";import{property as w}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as I}from\"../core/accessorSupport/decorators/subclass.js\";import k from\"./IdentityForm.js\";import A from\"./IdentityModal.js\";import y from\"./OAuthCredential.js\";import U from\"./OAuthInfo.js\";import x from\"./ServerInfo.js\";const T={},O=e=>{const t=new u(e.owningSystemUrl).host,s=new u(e.server).host,r=/.+\\.arcgis\\.com$/i;return r.test(t)&&r.test(s)},R=(e,t)=>!!(O(e)&&t&&t.some((t=>t.test(e.server))));let b=null,P=null;try{b=window.localStorage,P=window.sessionStorage}catch{}class C extends n{constructor(){super(),this._portalConfig=globalThis.esriGeowConfig,this.serverInfos=[],this.oAuthInfos=[],this.credentials=[],this._soReqs=[],this._xoReqs=[],this._portals=[],this.defaultOAuthInfo=null,this.defaultTokenValidity=60,this.dialog=null,this.formConstructor=k,this.tokenValidity=null,this.normalizeWebTierAuth=!1,this._appOrigin=\"null\"!==window.origin?window.origin:window.location.origin,this._appUrlObj=p(window.location.href),this._busy=null,this._rejectOnPersistedPageShow=!1,this._oAuthHash=null,this._gwTokenUrl=\"/sharing/rest/generateToken\",this._agsRest=\"/rest/services\",this._agsPortal=/\\/sharing(\\/|$)/i,this._agsAdmin=/(https?:\\/\\/[^\\/]+\\/[^\\/]+)\\/admin\\/?(\\/.*)?$/i,this._adminSvcs=/\\/rest\\/admin\\/services(\\/|$)/i,this._gwDomains=[{regex:/^https?:\\/\\/www\\.arcgis\\.com/i,customBaseUrl:\"maps.arcgis.com\",tokenServiceUrl:\"https://www.arcgis.com/sharing/rest/generateToken\"},{regex:/^https?:\\/\\/(?:dev|[a-z\\d-]+\\.mapsdev)\\.arcgis\\.com/i,customBaseUrl:\"mapsdev.arcgis.com\",tokenServiceUrl:\"https://dev.arcgis.com/sharing/rest/generateToken\"},{regex:/^https?:\\/\\/(?:devext|[a-z\\d-]+\\.mapsdevext)\\.arcgis\\.com/i,customBaseUrl:\"mapsdevext.arcgis.com\",tokenServiceUrl:\"https://devext.arcgis.com/sharing/rest/generateToken\"},{regex:/^https?:\\/\\/(?:qaext|[a-z\\d-]+\\.mapsqa)\\.arcgis\\.com/i,customBaseUrl:\"mapsqa.arcgis.com\",tokenServiceUrl:\"https://qaext.arcgis.com/sharing/rest/generateToken\"},{regex:/^https?:\\/\\/[a-z\\d-]+\\.maps\\.arcgis\\.com/i,customBaseUrl:\"maps.arcgis.com\",tokenServiceUrl:\"https://www.arcgis.com/sharing/rest/generateToken\"}],this._legacyFed=[],this._regexSDirUrl=/http.+\\/rest\\/services\\/?/gi,this._regexServerType=/(\\/(FeatureServer|GPServer|GeoDataServer|GeocodeServer|GeoenrichmentServer|GeometryServer|GlobeServer|ImageServer|MapServer|MobileServer|NAServer|NetworkDiagramServer|OGCFeatureServer|ParcelFabricServer|RelationalCatalogServer|SceneServer|StreamServer|UtilityNetworkServer|ValidationServer|VectorTileServer|VersionManagementServer)).*/gi,this._gwUser=/http.+\\/users\\/([^\\/]+)\\/?.*/i,this._gwItem=/http.+\\/items\\/([^\\/]+)\\/?.*/i,this._gwGroup=/http.+\\/groups\\/([^\\/]+)\\/?.*/i,this._rePortalTokenSvc=/\\/sharing(\\/rest)?\\/generatetoken/i,this._createDefaultOAuthInfo=!0,this._hasTestedIfAppIsOnPortal=!1,this._getOAuthHash(),window.addEventListener(\"pageshow\",(e=>{this._pageShowHandler(e)}))}registerServers(e){const t=this.serverInfos;t?(e=e.filter((e=>!this.findServerInfo(e.server))),this.serverInfos=t.concat(e)):this.serverInfos=e,e.forEach((e=>{e.owningSystemUrl&&this._portals.push(e.owningSystemUrl),e.hasPortal&&this._portals.push(e.server)}))}registerOAuthInfos(e){const t=this.oAuthInfos;if(t){for(const s of e){const e=this.findOAuthInfo(s.portalUrl);e&&t.splice(t.indexOf(e),1)}this.oAuthInfos=t.concat(e)}else this.oAuthInfos=e}registerToken(e){e={...e};const t=this._sanitizeUrl(e.server),s=this._isServerRsrc(t);let r,i=this.findServerInfo(t),n=!0;i||(i=new x,i.server=this._getServerInstanceRoot(t),s?i.hasServer=!0:(i.tokenServiceUrl=this._getTokenSvcUrl(t),i.hasPortal=!0),this.registerServers([i])),r=this._findCredential(t),r?(delete e.server,Object.assign(r,e),n=!1):(r=new D({userId:e.userId,server:i.server,token:e.token,expires:e.expires,ssl:e.ssl,scope:s?\"server\":\"portal\"}),r.resources=[t],this.credentials.push(r)),r.emitTokenChange(!1),n||r.refreshServerTokens()}toJSON(){return a({serverInfos:this.serverInfos.map((e=>e.toJSON())),oAuthInfos:this.oAuthInfos.map((e=>e.toJSON())),credentials:this.credentials.map((e=>e.toJSON()))})}initialize(e){if(!e)return;\"string\"==typeof e&&(e=JSON.parse(e));const t=e.serverInfos,s=e.oAuthInfos,r=e.credentials;if(t){const e=[];t.forEach((t=>{t.server&&t.tokenServiceUrl&&e.push(t.declaredClass?t:new x(t))})),e.length&&this.registerServers(e)}if(s){const e=[];s.forEach((t=>{t.appId&&e.push(t.declaredClass?t:new U(t))})),e.length&&this.registerOAuthInfos(e)}r&&r.forEach((e=>{e.server&&e.token&&e.expires&&e.expires>Date.now()&&((e=e.declaredClass?e:new D(e)).emitTokenChange(),this.credentials.push(e))}))}findServerInfo(e){let t;e=this._sanitizeUrl(e);for(const s of this.serverInfos)if(this._hasSameServerInstance(s.server,e)){t=s;break}return t}findOAuthInfo(e){let t;e=this._sanitizeUrl(e);for(const s of this.oAuthInfos)if(this._hasSameServerInstance(s.portalUrl,e)){t=s;break}return t}findCredential(e,t){let s;e=this._sanitizeUrl(e);const r=this._isServerRsrc(e)?\"server\":\"portal\";if(t){for(const i of this.credentials)if(this._hasSameServerInstance(i.server,e)&&t===i.userId&&i.scope===r){s=i;break}}else for(const i of this.credentials)if(this._hasSameServerInstance(i.server,e)&&-1!==this._getIdenticalSvcIdx(e,i)&&i.scope===r){s=i;break}return s}getCredential(e,t){let s,r,n=!0;t&&(s=!!t.token,r=t.error,n=!1!==t.prompt),t={...t},e=this._sanitizeUrl(e);const o=new AbortController,a=l();if(t.signal&&c(t.signal,(()=>{o.abort()})),c(o,(()=>{a.reject(new i(\"identity-manager:user-aborted\",\"ABORTED\"))})),d(o))return a.promise;t.signal=o.signal;const h=this._isAdminResource(e),u=s?this.findCredential(e):null;let p;if(u&&r&&r.details&&498===r.details.httpStatus)u.destroy();else if(u)return p=new i(\"identity-manager:not-authorized\",\"You are currently signed in as: '\"+u.userId+\"'. You do not have access to this resource: \"+e,{error:r}),a.reject(p),a.promise;const g=this._findCredential(e,t);if(g)return a.resolve(g),a.promise;let f=this.findServerInfo(e);if(f)!f.hasServer&&this._isServerRsrc(e)&&(f._restInfoPms=this._getTokenSvcUrl(e),f.hasServer=!0);else{const t=this._getTokenSvcUrl(e);if(!t)return p=new i(\"identity-manager:unknown-resource\",\"Unknown resource - could not find token service endpoint.\"),a.reject(p),a.promise;f=new x,f.server=this._getServerInstanceRoot(e),\"string\"==typeof t?(f.tokenServiceUrl=t,f.hasPortal=!0):(f._restInfoPms=t,f.hasServer=!0),this.registerServers([f])}return f.hasPortal&&void 0===f._selfReq&&(n||_(f.tokenServiceUrl,this._appOrigin)||this._gwDomains.some((e=>e.tokenServiceUrl===f.tokenServiceUrl)))&&(f._selfReq={owningTenant:t&&t.owningTenant,selfDfd:this._getPortalSelf(f.tokenServiceUrl.replace(this._rePortalTokenSvc,\"/sharing/rest/portals/self\"),e)}),this._enqueue(e,f,t,a,h)}getResourceName(e){return this._isRESTService(e)?e.replace(this._regexSDirUrl,\"\").replace(this._regexServerType,\"\")||\"\":this._gwUser.test(e)&&e.replace(this._gwUser,\"$1\")||this._gwItem.test(e)&&e.replace(this._gwItem,\"$1\")||this._gwGroup.test(e)&&e.replace(this._gwGroup,\"$1\")||\"\"}generateToken(e,t,s){const n=this._rePortalTokenSvc.test(e.tokenServiceUrl),o=new u(this._appOrigin),a=e.shortLivedTokenValidity;let h,l,c,d,p,g,f,m;t&&(m=this.tokenValidity||a||this.defaultTokenValidity,m>a&&a>0&&(m=a)),s&&(h=s.isAdmin,l=s.serverUrl,c=s.token,g=s.signal,f=s.ssl,e.customParameters=s.customParameters),h?d=e.adminTokenServiceUrl:(d=e.tokenServiceUrl,p=new u(d.toLowerCase()),e.webTierAuth&&null!=s&&s.serverUrl&&!f&&\"http\"===o.scheme&&(_(o.uri,d,!0)||\"https\"===p.scheme&&o.host===p.host&&\"7080\"===o.port&&\"7443\"===p.port)&&(d=d.replace(/^https:/i,\"http:\").replace(/:7443/i,\":7080\")));const v={query:{request:\"getToken\",username:null==t?void 0:t.username,password:null==t?void 0:t.password,serverUrl:l,token:c,expiration:m,referer:h||n?this._appOrigin:null,client:h?\"referer\":null,f:\"json\",...e.customParameters},method:\"post\",authMode:\"anonymous\",useProxy:this._useProxy(e,s),signal:g,...null==s?void 0:s.ioArgs};n||(v.withCredentials=!1);return r(d,v).then((s=>{const r=s.data;if(!r||!r.token)return new i(\"identity-manager:authentication-failed\",\"Unable to generate token\");const n=e.server;return T[n]||(T[n]={}),t&&(T[n][t.username]=t.password),r.validity=m,r}))}isBusy(){return!!this._busy}checkSignInStatus(e){return this.checkAppAccess(e,\"\").then((e=>e.credential))}checkAppAccess(e,t,s){let n=!1;return this.getCredential(e,{prompt:!1}).then((o=>{let a;const h={f:\"json\"};if(\"portal\"===o.scope)if(t&&(this._doPortalSignIn(e)||s&&s.force))a=o.server+\"/sharing/rest/oauth2/validateAppAccess\",h.client_id=t;else{if(!o.token)return{credential:o};a=o.server+\"/sharing/rest\"}else{if(!o.token)return{credential:o};a=o.server+\"/rest/services\"}return o.token&&(h.token=o.token),r(a,{query:h,authMode:\"anonymous\"}).then((e=>{if(!1===e.data.valid)throw new i(\"identity-manager:not-authorized\",`You are currently signed in as: '${o.userId}'.`,e.data);return n=!!e.data.viewOnlyUserTypeApp,{credential:o}})).catch((e=>{if(\"identity-manager:not-authorized\"===e.name)throw e;const t=e.details&&e.details.httpStatus;if(498===t)throw o.destroy(),new i(\"identity-manager:not-authenticated\",\"User is not signed in.\");if(400===t)throw new i(\"identity-manager:invalid-request\");return{credential:o}}))})).then((e=>({credential:e.credential,viewOnly:n})))}setOAuthResponseHash(e){var t;const s=this._oAuthDfd;if(this._oAuthDfd=null,!s||!e)return;clearInterval(this._oAuthIntervalId),null==(t=this._oAuthOnHashHandle)||t.remove(),\"#\"===e.charAt(0)&&(e=e.substring(1));const r=g(e);if(r.error){const e=\"access_denied\"===r.error,t=new i(e?\"identity-manager:user-aborted\":\"identity-manager:authentication-failed\",e?\"ABORTED\":\"OAuth: \"+r.error+\" - \"+r.error_description);s.reject(t)}else{const e=s.sinfo_,t=s.oinfo_,i=t._oAuthCred,n=new D({userId:r.username,server:e.server,token:r.access_token,expires:Date.now()+1e3*Number(r.expires_in),ssl:\"true\"===r.ssl,_oAuthCred:i});t.userId=n.userId,i.storage=r.persist?b:P,i.token=n.token,i.expires=n.expires,i.userId=n.userId,i.ssl=n.ssl,i.save(),s.resolve(n)}}setOAuthRedirectionHandler(e){this._oAuthRedirectFunc=e}setProtocolErrorHandler(e){this._protocolFunc=e}signIn(e,t,s={}){const r=l(),n=()=>{var e,t,s,r,i;null==(e=h)||e.remove(),null==(t=d)||t.remove(),null==(s=u)||s.remove(),null==(r=a)||r.destroy(),null==(i=this.dialog)||i.destroy(),this.dialog=a=h=d=u=null},o=()=>{n(),this._oAuthDfd=null,r.reject(new i(\"identity-manager:user-aborted\",\"ABORTED\"))};s.signal&&c(s.signal,(()=>{o()}));let a=new this.formConstructor;a.resource=this.getResourceName(e),a.server=t.server,this.dialog=new A,this.dialog.content=a,this.dialog.open=!0,this.emit(\"dialog-create\");let h=a.on(\"cancel\",o),d=this.dialog.watch(\"open\",o),u=a.on(\"submit\",(e=>{this.generateToken(t,e,{isAdmin:s.isAdmin,signal:s.signal}).then((i=>{n();const o=new D({userId:e.username,server:t.server,token:i.token,expires:null!=i.expires?Number(i.expires):null,ssl:!!i.ssl,isAdmin:s.isAdmin,validity:i.validity});r.resolve(o)})).catch((e=>{a.error=e,a.signingIn=!1}))}));return r.promise}oAuthSignIn(e,t,s,r){this._oAuthDfd=l();const n=this._oAuthDfd;null!=r&&r.signal&&c(r.signal,(()=>{const e=this._oAuthDfd&&this._oAuthDfd.oAuthWin_;e&&!e.closed?e.close():this.dialog&&h()})),n.resUrl_=e,n.sinfo_=t,n.oinfo_=s;const o=!r||!1!==r.oAuthPopupConfirmation;if(!s.popup||!o)return this._doOAuthSignIn(e,t,s),n.promise;const a=new this.formConstructor;a.oAuthPrompt=!0,a.server=t.server,this.dialog=new A,this.dialog.content=a,this.dialog.open=!0,this.emit(\"dialog-create\");const h=()=>{_(),this._oAuthDfd=null,n.reject(new i(\"identity-manager:user-aborted\",\"ABORTED\"))},d=a.on(\"cancel\",h),u=this.dialog.watch(\"open\",h),p=a.on(\"submit\",(()=>{_(),this._doOAuthSignIn(e,t,s)})),_=()=>{d.remove(),u.remove(),p.remove(),a.destroy(),this.dialog.destroy(),this.dialog=null};return n.promise}destroyCredentials(){if(this.credentials){this.credentials.slice().forEach((e=>{e.destroy()}))}this.emit(\"credentials-destroy\")}enablePostMessageAuth(e=\"https://www.arcgis.com/sharing/rest\"){this._postMessageAuthHandle&&this._postMessageAuthHandle.remove(),this._postMessageAuthHandle=o(window,\"message\",(t=>{var s;if((t.origin===this._appOrigin||t.origin.endsWith(\".arcgis.com\"))&&\"arcgis:auth:requestCredential\"===(null==(s=t.data)?void 0:s.type)){const s=t.source;this.getCredential(e).then((e=>{s.postMessage({type:\"arcgis:auth:credential\",credential:{expires:e.expires,server:e.server,ssl:e.ssl,token:e.token,userId:e.userId}},t.origin)})).catch((e=>{s.postMessage({type:\"arcgis:auth:error\",error:{name:e.name,message:e.message}},t.origin)}))}}))}disablePostMessageAuth(){this._postMessageAuthHandle&&(this._postMessageAuthHandle.remove(),this._postMessageAuthHandle=null)}_getOAuthHash(){let e=window.location.hash;if(e){\"#\"===e.charAt(0)&&(e=e.substring(1));const t=g(e);let s=!1;if(t.access_token&&t.expires_in&&t.state&&t.hasOwnProperty(\"username\"))try{t.state=JSON.parse(t.state),\"object\"==typeof t.state&&t.state.portalUrl&&(this._oAuthHash=t,s=!0)}catch{}else t.error&&t.error_description&&(console.log(\"IdentityManager OAuth Error: \",t.error,\" - \",t.error_description),\"access_denied\"===t.error&&(s=!0));s&&(window.location.hash=\"object\"==typeof t.state&&t.state.hash||\"\")}}_pageShowHandler(e){if(e.persisted&&this.isBusy()&&this._rejectOnPersistedPageShow){const e=new i(\"identity-manager:user-aborted\",\"ABORTED\");this._errbackFunc(e)}}_findCredential(e,t){let s,r,i,n,o=-1;const a=t&&t.token,h=t&&t.resource,l=this._isServerRsrc(e)?\"server\":\"portal\",c=this.credentials.filter((t=>this._hasSameServerInstance(t.server,e)&&t.scope===l));if(e=h||e,c.length)if(1===c.length){if(s=c[0],n=this.findServerInfo(s.server),r=n&&n.owningSystemUrl,i=r&&this.findCredential(r,s.userId),o=this._getIdenticalSvcIdx(e,s),!a)return-1===o&&s.resources.push(e),this._addResource(e,i),s;-1!==o&&(s.resources.splice(o,1),this._removeResource(e,i))}else{let t,s;if(c.some((a=>(s=this._getIdenticalSvcIdx(e,a),-1!==s&&(t=a,n=this.findServerInfo(t.server),r=n&&n.owningSystemUrl,i=r&&this.findCredential(r,t.userId),o=s,!0)))),a)t&&(t.resources.splice(o,1),this._removeResource(e,i));else if(t)return this._addResource(e,i),t}}_findOAuthInfo(e){let t=this.findOAuthInfo(e);if(!t)for(const s of this.oAuthInfos)if(this._isIdProvider(s.portalUrl,e)){t=s;break}return t}_addResource(e,t){t&&-1===this._getIdenticalSvcIdx(e,t)&&t.resources.push(e)}_removeResource(e,t){let s=-1;t&&(s=this._getIdenticalSvcIdx(e,t),s>-1&&t.resources.splice(s,1))}_useProxy(e,t){return t&&t.isAdmin&&!_(e.adminTokenServiceUrl,this._appOrigin)||!this._isPortalDomain(e.tokenServiceUrl)&&\"10.1\"===String(e.currentVersion)&&!_(e.tokenServiceUrl,this._appOrigin)}_getOrigin(e){const t=new u(e);return t.scheme+\"://\"+t.host+(null!=t.port?\":\"+t.port:\"\")}_getServerInstanceRoot(e){const t=e.toLowerCase();let s=t.indexOf(this._agsRest);return-1===s&&this._isAdminResource(e)&&(s=this._agsAdmin.test(e)?e.replace(this._agsAdmin,\"$1\").length:e.search(this._adminSvcs)),-1===s&&(s=t.indexOf(\"/sharing\")),-1===s&&\"/\"===t.substr(-1)&&(s=t.length-1),s>-1?e.substring(0,s):e}_hasSameServerInstance(e,t){return\"/\"===e.substr(-1)&&(e=e.slice(0,-1)),e=e.toLowerCase(),t=this._getServerInstanceRoot(t).toLowerCase(),e=this._normalizeAGOLorgDomain(e),t=this._normalizeAGOLorgDomain(t),(e=e.substr(e.indexOf(\":\")))===(t=t.substr(t.indexOf(\":\")))}_normalizeAGOLorgDomain(e){const t=/^https?:\\/\\/(?:cdn|[a-z\\d-]+\\.maps)\\.arcgis\\.com/i,s=/^https?:\\/\\/(?:cdndev|[a-z\\d-]+\\.mapsdevext)\\.arcgis\\.com/i,r=/^https?:\\/\\/(?:cdnqa|[a-z\\d-]+\\.mapsqa)\\.arcgis\\.com/i;return t.test(e)?e=e.replace(t,\"https://www.arcgis.com\"):s.test(e)?e=e.replace(s,\"https://devext.arcgis.com\"):r.test(e)&&(e=e.replace(r,\"https://qaext.arcgis.com\")),e}_sanitizeUrl(e){const s=(t.request.proxyUrl||\"\").toLowerCase(),r=s?e.toLowerCase().indexOf(s+\"?\"):-1;return-1!==r&&(e=e.substring(r+s.length+1)),e=f(e),p(e).path}_isRESTService(e){return e.indexOf(this._agsRest)>-1}_isAdminResource(e){return this._agsAdmin.test(e)||this._adminSvcs.test(e)}_isServerRsrc(e){return this._isRESTService(e)||this._isAdminResource(e)}_isIdenticalService(e,t){let s;if(this._isRESTService(e)&&this._isRESTService(t)){const r=this._getSuffix(e).toLowerCase(),i=this._getSuffix(t).toLowerCase();if(s=r===i,!s){const e=/(.*)\\/(MapServer|FeatureServer|UtilityNetworkServer).*/gi;s=r.replace(e,\"$1\")===i.replace(e,\"$1\")}}else this._isAdminResource(e)&&this._isAdminResource(t)?s=!0:this._isServerRsrc(e)||this._isServerRsrc(t)||!this._isPortalDomain(e)||(s=!0);return s}_isPortalDomain(e){const s=new u(e.toLowerCase()),r=this._portalConfig;let i=this._gwDomains.some((e=>e.regex.test(s.uri)));return!i&&r&&(i=this._hasSameServerInstance(this._getServerInstanceRoot(r.restBaseUrl),s.uri)),i||t.portalUrl&&(i=_(s,t.portalUrl,!0)),i||(i=this._portals.some((e=>this._hasSameServerInstance(e,s.uri)))),i=i||this._agsPortal.test(s.path),i}_isIdProvider(e,t){let s=-1,r=-1;this._gwDomains.forEach(((i,n)=>{-1===s&&i.regex.test(e)&&(s=n),-1===r&&i.regex.test(t)&&(r=n)}));let i=!1;if(s>-1&&r>-1&&(0===s||4===s?0!==r&&4!==r||(i=!0):1===s?1!==r&&2!==r||(i=!0):2===s?2===r&&(i=!0):3===s&&3===r&&(i=!0)),!i){const s=this.findServerInfo(t),r=s&&s.owningSystemUrl;r&&O(s)&&this._isPortalDomain(r)&&this._isIdProvider(e,r)&&(i=!0)}return i}_getIdenticalSvcIdx(e,t){let s=-1;for(let r=0;r<t.resources.length;r++){const i=t.resources[r];if(this._isIdenticalService(e,i)){s=r;break}}return s}_getSuffix(e){return e.replace(this._regexSDirUrl,\"\").replace(this._regexServerType,\"$1\")}_getTokenSvcUrl(e){let t,s,i;if(this._isRESTService(e)||this._isAdminResource(e)){const i=this._getServerInstanceRoot(e);return t=i+\"/admin/generateToken\",s=r(e=i+\"/rest/info\",{query:{f:\"json\"}}).then((e=>e.data)),{adminUrl:t,promise:s}}if(this._isPortalDomain(e)){let t=\"\";if(this._gwDomains.some((s=>(s.regex.test(e)&&(t=s.tokenServiceUrl),!!t))),t||this._portals.some((s=>(this._hasSameServerInstance(s,e)&&(t=s+this._gwTokenUrl),!!t))),t||(i=e.toLowerCase().indexOf(\"/sharing\"),-1!==i&&(t=e.substring(0,i)+this._gwTokenUrl)),t||(t=this._getOrigin(e)+this._gwTokenUrl),t){const s=new u(e).port;/^http:\\/\\//i.test(e)&&\"7080\"===s&&(t=t.replace(/:7080/i,\":7443\")),t=t.replace(/http:/i,\"https:\")}return t}if(-1!==e.toLowerCase().indexOf(\"premium.arcgisonline.com\"))return\"https://premium.arcgisonline.com/server/tokens\"}_exchangeToken(e,t,s){return r(`${e}/sharing/rest/oauth2/exchangeToken`,{authMode:\"anonymous\",method:\"post\",query:{f:\"json\",client_id:t,token:s}}).then((e=>e.data.token))}_getPlatformSelf(e,t){return e=e.replace(/^http:/i,\"https:\"),r(`${e}/sharing/rest/oauth2/platformSelf`,{authMode:\"anonymous\",headers:{\"X-Esri-Auth-Client-Id\":t,\"X-Esri-Auth-Redirect-Uri\":window.location.href.replace(/#.*$/,\"\")},method:\"post\",query:{f:\"json\"},withCredentials:!0}).then((e=>e.data))}_getPortalSelf(e,t){let s;if(this._gwDomains.some((t=>(t.regex.test(e)&&(s=t.customBaseUrl),!!s))),s)return Promise.resolve({allSSL:!0,currentVersion:\"4.4\",customBaseUrl:s,portalMode:\"multitenant\",supportsOAuth:!0});this._appOrigin.startsWith(\"https:\")?e=e.replace(/^http:/i,\"https:\").replace(/:7080/i,\":7443\"):/^http:/i.test(t)&&(e=e.replace(/^https:/i,\"http:\").replace(/:7443/i,\":7080\"));return r(e,{query:{f:\"json\"},authMode:\"anonymous\",withCredentials:!0}).then((e=>e.data))}_doPortalSignIn(e){const t=this._portalConfig,s=window.location.href,r=this.findServerInfo(e);return!(!t&&!this._isPortalDomain(s)||!(r?r.hasPortal||r.owningSystemUrl&&this._isPortalDomain(r.owningSystemUrl):this._isPortalDomain(e))||!(this._isIdProvider(s,e)||t&&(this._hasSameServerInstance(this._getServerInstanceRoot(t.restBaseUrl),e)||this._isIdProvider(t.restBaseUrl,e))||_(s,e,!0)))}_checkProtocol(e,t,s,r){let n=!0;const o=r?t.adminTokenServiceUrl:t.tokenServiceUrl;if(o.trim().toLowerCase().startsWith(\"https:\")&&!this._appOrigin.startsWith(\"https:\")&&m(o)&&(n=!!this._protocolFunc&&!!this._protocolFunc({resourceUrl:e,serverInfo:t}),!n)){s(new i(\"identity-manager:aborted\",\"Aborted the Sign-In process to avoid sending password over insecure connection.\"))}return n}_enqueue(e,t,s,r,i,n){return r||(r=l()),r.resUrl_=e,r.sinfo_=t,r.options_=s,r.admin_=i,r.refresh_=n,this._busy?this._hasSameServerInstance(this._getServerInstanceRoot(e),this._busy.resUrl_)?(this._oAuthDfd&&this._oAuthDfd.oAuthWin_&&this._oAuthDfd.oAuthWin_.focus(),this._soReqs.push(r)):this._xoReqs.push(r):this._doSignIn(r),r.promise}_doSignIn(e){this._busy=e,this._rejectOnPersistedPageShow=!1;const t=t=>{const s=e.options_&&e.options_.resource,r=e.resUrl_,i=e.refresh_;let n=!1;-1===this.credentials.indexOf(t)&&(i&&-1!==this.credentials.indexOf(i)?(i.userId=t.userId,i.token=t.token,i.expires=t.expires,i.validity=t.validity,i.ssl=t.ssl,i.creationTime=t.creationTime,n=!0,t=i):this.credentials.push(t)),t.resources||(t.resources=[]),t.resources.push(s||r),t.scope=this._isServerRsrc(r)?\"server\":\"portal\",t.emitTokenChange();const o=this._soReqs,a={};this._soReqs=[],o.forEach((e=>{if(!this._isIdenticalService(r,e.resUrl_)){const s=this._getSuffix(e.resUrl_);a[s]||(a[s]=!0,t.resources.push(e.resUrl_))}})),e.resolve(t),o.forEach((e=>{this._hasSameServerInstance(this._getServerInstanceRoot(r),e.resUrl_)?e.resolve(t):this._soReqs.push(e)})),this._busy=e.resUrl_=e.sinfo_=e.refresh_=null,n||this.emit(\"credential-create\",{credential:t}),this._soReqs.length?this._doSignIn(this._soReqs.shift()):this._xoReqs.length&&this._doSignIn(this._xoReqs.shift())},s=t=>{e.reject(t),this._busy=e.resUrl_=e.sinfo_=e.refresh_=null,this._soReqs.length?this._doSignIn(this._soReqs.shift()):this._xoReqs.length&&this._doSignIn(this._xoReqs.shift())},r=(r,n,a,h)=>{var l,d;const u=e.sinfo_,p=!e.options_||!1!==e.options_.prompt,g=u.hasPortal&&this._findOAuthInfo(e.resUrl_);let f,m;if(r)t(new D({userId:r,server:u.server,token:a||null,expires:null!=h?Number(h):null,ssl:!!n}));else if(window!==window.parent&&null!=(l=this._appUrlObj.query)&&l[\"arcgis-auth-origin\"]&&null!=(d=this._appUrlObj.query)&&d[\"arcgis-auth-portal\"]&&this._hasSameServerInstance(this._getServerInstanceRoot(this._appUrlObj.query[\"arcgis-auth-portal\"]),e.resUrl_)){var v;window.parent.postMessage({type:\"arcgis:auth:requestCredential\"},this._appUrlObj.query[\"arcgis-auth-origin\"]);const r=o(window,\"message\",(e=>{e.source===window.parent&&e.data&&(\"arcgis:auth:credential\"===e.data.type?(r.remove(),e.data.credential.expires<Date.now()?s(new i(\"identity-manager:credential-request-failed\",\"Parent application's token has expired.\")):t(new D(e.data.credential))):\"arcgis:auth:error\"===e.data.type&&(r.remove(),\"tokenExpiredError\"===e.data.error.name?s(new i(\"identity-manager:credential-request-failed\",\"Parent application's token has expired.\")):s(i.fromJSON(e.data.error))))}));c(null==(v=e.options_)?void 0:v.signal,(()=>{r.remove()}))}else if(g){let r=g._oAuthCred;if(!r){const e=new y(g,b),t=new y(g,P);e.isValid()&&t.isValid()?e.expires>t.expires?(r=e,t.destroy()):(r=t,e.destroy()):r=e.isValid()?e:t,g._oAuthCred=r}if(r.isValid())f=new D({userId:r.userId,server:u.server,token:r.token,expires:r.expires,ssl:r.ssl,_oAuthCred:r}),g.appId!==r.appId&&this._doPortalSignIn(e.resUrl_)?e._pendingDfd=this._exchangeToken(f.server,g.appId,f.token).then((e=>{f.token=e,r.token=e,r.save(),t(f)})).catch((()=>{t(f)})):t(f);else if(this._oAuthHash&&this._hasSameServerInstance(g.portalUrl,this._oAuthHash.state.portalUrl)){const e=this._oAuthHash;f=new D({userId:e.username,server:u.server,token:e.access_token,expires:Date.now()+1e3*Number(e.expires_in),ssl:\"true\"===e.ssl,oAuthState:e.state,_oAuthCred:r}),g.userId=f.userId,r.storage=e.persist?b:P,r.token=f.token,r.expires=f.expires,r.userId=f.userId,r.ssl=f.ssl,r.save(),this._oAuthHash=null,t(f)}else{const r=()=>{p?e._pendingDfd=this.oAuthSignIn(e.resUrl_,u,g,e.options_).then(t,s):(m=new i(\"identity-manager:not-authenticated\",\"User is not signed in.\"),s(m))};this._doPortalSignIn(e.resUrl_)?e._pendingDfd=this._getPlatformSelf(u.server,g.appId).then((({portalUrl:e,token:s,username:i})=>{!e||_(e,this._appOrigin,!0)?(f=new D({server:u.server,userId:i,token:s}),t(f)):r()})).catch(r):r()}}else if(p){if(this._checkProtocol(e.resUrl_,u,s,e.admin_)){let r=e.options_;e.admin_&&(r=r||{},r.isAdmin=!0),e._pendingDfd=this.signIn(e.resUrl_,u,r).then(t,s)}}else m=new i(\"identity-manager:not-authenticated\",\"User is not signed in.\"),s(m)},n=()=>{const r=e.sinfo_,i=r.owningSystemUrl,n=e.options_;let o,a,h,l;if(n&&(o=n.token,a=n.error,h=n.prompt),l=this._findCredential(i,{token:o,resource:e.resUrl_}),!l)for(const e of this.credentials)if(this._isIdProvider(i,e.server)){l=e;break}if(l){const i=this.findCredential(e.resUrl_,l.userId);if(i)t(i);else if(R(r,this._legacyFed)){const e=l.toJSON();e.server=r.server,e.resources=null,t(new D(e))}else{(e._pendingDfd=this.generateToken(this.findServerInfo(l.server),null,{serverUrl:e.resUrl_,token:l.token,signal:e.options_.signal,ssl:l.ssl})).then((s=>{t(new D({userId:l.userId,server:r.server,token:s.token,expires:null!=s.expires?Number(s.expires):null,ssl:!!s.ssl,isAdmin:e.admin_,validity:s.validity}))}),s)}}else{this._busy=null,o&&(e.options_.token=null);(e._pendingDfd=this.getCredential(i.replace(/\\/?$/,\"/sharing\"),{resource:e.resUrl_,owningTenant:r.owningTenant,signal:e.options_.signal,token:o,error:a,prompt:h})).then((()=>{this._enqueue(e.resUrl_,e.sinfo_,e.options_,e,e.admin_)}),(t=>{e.resUrl_=e.sinfo_=e.refresh_=null,e.reject(t)}))}};this._errbackFunc=s;const a=e.sinfo_.owningSystemUrl,l=this._isServerRsrc(e.resUrl_),d=e.sinfo_._restInfoPms;d?d.promise.then((t=>{const s=e.sinfo_;if(s._restInfoPms){s.adminTokenServiceUrl=s._restInfoPms.adminUrl,s._restInfoPms=null,s.tokenServiceUrl=h(\"authInfo.tokenServicesUrl\",t)||h(\"authInfo.tokenServiceUrl\",t)||h(\"tokenServiceUrl\",t),s.shortLivedTokenValidity=h(\"authInfo.shortLivedTokenValidity\",t),s.currentVersion=t.currentVersion,s.owningTenant=t.owningTenant;const e=s.owningSystemUrl=t.owningSystemUrl;e&&this._portals.push(e)}l&&s.owningSystemUrl?n():r()}),(()=>{e.sinfo_._restInfoPms=null;const t=new i(\"identity-manager:server-identification-failed\",\"Unknown resource - could not find token service endpoint.\");s(t)})):l&&a?n():e.sinfo_._selfReq?e.sinfo_._selfReq.selfDfd.then((t=>{const s={};let r,i,n,o;return t&&(r=t.user&&t.user.username,s.username=r,s.allSSL=t.allSSL,i=t.supportsOAuth,n=t.currentVersion,\"multitenant\"===t.portalMode&&(o=t.customBaseUrl)),e.sinfo_.webTierAuth=!!r,r&&this.normalizeWebTierAuth?this.generateToken(e.sinfo_,null,{ssl:s.allSSL}).catch((()=>null)).then((e=>(s.portalToken=e&&e.token,s.tokenExpiration=e&&e.expires,s))):!r&&i&&parseFloat(n)>=4.4&&!this._findOAuthInfo(e.resUrl_)?this._generateOAuthInfo({portalUrl:e.sinfo_.server,customBaseUrl:o,owningTenant:e.sinfo_._selfReq.owningTenant}).catch((()=>null)).then((()=>s)):s})).catch((()=>null)).then((t=>{e.sinfo_._selfReq=null,t?r(t.username,t.allSSL,t.portalToken,t.tokenExpiration):r()})):r()}_generateOAuthInfo(e){let t,s,i=e.portalUrl;const n=e.customBaseUrl,o=e.owningTenant,a=!this.defaultOAuthInfo&&this._createDefaultOAuthInfo&&!this._hasTestedIfAppIsOnPortal;if(a){s=window.location.href;let e=s.indexOf(\"?\");e>-1&&(s=s.slice(0,e)),e=s.search(/\\/(apps|home)\\//),s=e>-1?s.slice(0,e):null}return a&&s?(this._hasTestedIfAppIsOnPortal=!0,t=r(s+\"/sharing/rest\",{query:{f:\"json\"}}).then((()=>{this.defaultOAuthInfo=new U({appId:\"arcgisonline\",popupCallbackUrl:s+\"/home/oauth-callback.html\"})}))):t=Promise.resolve(),t.then((()=>{if(this.defaultOAuthInfo)return i=i.replace(/^http:/i,\"https:\"),r(i+\"/sharing/rest/oauth2/validateRedirectUri\",{query:{accountId:o,client_id:this.defaultOAuthInfo.appId,redirect_uri:v(this.defaultOAuthInfo.popupCallbackUrl),f:\"json\"}}).then((e=>{if(e.data.valid){const t=this.defaultOAuthInfo.clone();e.data.urlKey&&n?t.portalUrl=\"https://\"+e.data.urlKey.toLowerCase()+\".\"+n:t.portalUrl=i,t.popup=window!==window.top||!(_(i,this._appOrigin)||this._gwDomains.some((e=>e.regex.test(i)&&e.regex.test(this._appOrigin)))),this.oAuthInfos.push(t)}}))}))}_doOAuthSignIn(e,t,s){const r={portalUrl:s.portalUrl};!s.popup&&s.preserveUrlHash&&window.location.hash&&(r.hash=window.location.hash);const n={client_id:s.appId,response_type:\"token\",state:JSON.stringify(r),expiration:s.expiration,locale:s.locale,redirect_uri:s.popup?v(s.popupCallbackUrl):window.location.href.replace(/#.*$/,\"\")};s.forceLogin&&(n.force_login=!0),s.forceUserId&&s.userId&&(n.prepopulatedusername=s.userId),!s.popup&&this._doPortalSignIn(e)&&(n.redirectToUserOrgUrl=!0);const a=s.portalUrl.replace(/^http:/i,\"https:\")+\"/sharing/oauth2/authorize\",h=a+\"?\"+S(n);if(s.popup){const e=window.open(h,\"esriJSAPIOAuth\",s.popupWindowFeatures);if(e)e.focus(),this._oAuthDfd.oAuthWin_=e,this._oAuthIntervalId=setInterval((()=>{if(e.closed){clearInterval(this._oAuthIntervalId),this._oAuthOnHashHandle.remove();const e=this._oAuthDfd;if(e){const t=new i(\"identity-manager:user-aborted\",\"ABORTED\");e.reject(t)}}}),500),this._oAuthOnHashHandle=o(window,\"arcgis:auth:hash\",(e=>{this.setOAuthResponseHash(e.detail)}));else{const e=new i(\"identity-manager:popup-blocked\",\"ABORTED\");this._oAuthDfd.reject(e)}}else this._rejectOnPersistedPageShow=!0,this._oAuthRedirectFunc?this._oAuthRedirectFunc({authorizeParams:n,authorizeUrl:a,resourceUrl:e,serverInfo:t,oAuthInfo:s}):window.location.href=h}}C.prototype.declaredClass=\"esri.identity.IdentityManagerBase\";let D=class extends n.EventedAccessor{constructor(e){super(e),this._oAuthCred=null,this.tokenRefreshBuffer=2,e&&e._oAuthCred&&(this._oAuthCred=e._oAuthCred)}initialize(){this.resources=this.resources||[],null==this.creationTime&&(this.creationTime=Date.now())}refreshToken(){const e=s.findServerInfo(this.server),t=e&&e.owningSystemUrl,r=!!t&&\"server\"===this.scope,i=r&&R(e,s._legacyFed),n=e.webTierAuth,o=n&&s.normalizeWebTierAuth,a=T[this.server],h=a&&a[this.userId];let l,c=this.resources&&this.resources[0],d=r&&s.findServerInfo(t),u={username:this.userId,password:h};if(n&&!o)return;r&&!d&&s.serverInfos.some((e=>(s._isIdProvider(t,e.server)&&(d=e),!!d)));const p=d&&s.findCredential(d.server,this.userId);if(!r||p){if(!i){if(r)l={serverUrl:c,token:p&&p.token,ssl:p&&p.ssl};else if(o)u=null,l={ssl:this.ssl};else{if(!h){let t;return c&&(c=s._sanitizeUrl(c),this._enqueued=1,t=s._enqueue(c,e,null,null,this.isAdmin,this),t.then((()=>{this._enqueued=0,this.refreshServerTokens()})).catch((()=>{this._enqueued=0}))),t}this.isAdmin&&(l={isAdmin:!0})}return s.generateToken(r?d:e,r?null:u,l).then((e=>{this.token=e.token,this.expires=null!=e.expires?Number(e.expires):null,this.creationTime=Date.now(),this.validity=e.validity,this.emitTokenChange(),this.refreshServerTokens()})).catch((()=>{}))}p.refreshToken()}}refreshServerTokens(){\"portal\"===this.scope&&s.credentials.forEach((e=>{const t=s.findServerInfo(e.server),r=t&&t.owningSystemUrl;e!==this&&e.userId===this.userId&&r&&\"server\"===e.scope&&(s._hasSameServerInstance(this.server,r)||s._isIdProvider(r,this.server))&&(R(t,s._legacyFed)?(e.token=this.token,e.expires=this.expires,e.creationTime=this.creationTime,e.validity=this.validity,e.emitTokenChange()):e.refreshToken())}))}emitTokenChange(e){clearTimeout(this._refreshTimer);const t=this.server&&s.findServerInfo(this.server),r=t&&t.owningSystemUrl,i=r&&s.findServerInfo(r);!1===e||r&&\"portal\"!==this.scope&&(!i||!i.webTierAuth||s.normalizeWebTierAuth)||null==this.expires&&null==this.validity||this._startRefreshTimer(),this.emit(\"token-change\")}destroy(){this.userId=this.server=this.token=this.expires=this.validity=this.resources=this.creationTime=null,this._oAuthCred&&(this._oAuthCred.destroy(),this._oAuthCred=null);const e=s.credentials.indexOf(this);e>-1&&s.credentials.splice(e,1),this.emitTokenChange(),this.emit(\"destroy\")}toJSON(){const e=a({userId:this.userId,server:this.server,token:this.token,expires:this.expires,validity:this.validity,ssl:this.ssl,isAdmin:this.isAdmin,creationTime:this.creationTime,scope:this.scope}),t=this.resources;return t&&t.length>0&&(e.resources=t.slice()),e}_startRefreshTimer(){clearTimeout(this._refreshTimer);const e=6e4*this.tokenRefreshBuffer,t=2**31-1;let s=(this.validity?this.creationTime+6e4*this.validity:this.expires)-Date.now();s<0?s=0:s>t&&(s=t),this._refreshTimer=setTimeout(this.refreshToken.bind(this),s>e?s-e:s)}};e([w()],D.prototype,\"creationTime\",void 0),e([w()],D.prototype,\"expires\",void 0),e([w()],D.prototype,\"isAdmin\",void 0),e([w()],D.prototype,\"oAuthState\",void 0),e([w()],D.prototype,\"resources\",void 0),e([w()],D.prototype,\"scope\",void 0),e([w()],D.prototype,\"server\",void 0),e([w()],D.prototype,\"ssl\",void 0),e([w()],D.prototype,\"token\",void 0),e([w()],D.prototype,\"tokenRefreshBuffer\",void 0),e([w()],D.prototype,\"userId\",void 0),e([w()],D.prototype,\"validity\",void 0),D=e([I(\"esri.identity.Credential\")],D);export{D as Credential,C as IdentityManagerBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{setId as e}from\"../kernel.js\";import{IdentityManagerBase as t}from\"./IdentityManagerBase.js\";class r extends t{}r.prototype.declaredClass=\"esri.identity.IdentityManager\";const s=new r;e(s);export{s as default};\n"],"names":["a","p","constructor","s","e","super","this","_usernameInputNode","_passwordInputNode","messages","signingIn","server","resource","error","oAuthPrompt","render","t","o","n","d","u","class","oAuthInfo","info","test","lblItem","c","key","lblUser","value","required","autocomplete","spellcheck","type","bind","afterCreate","m","lblPwd","h","classes","disabled","lblSigning","lblOk","lblCancel","onclick","_cancel","g","details","httpStatus","invalidUser","noAuthService","onsubmit","_submit","_set","emit","preventDefault","username","password","prototype","candidateSelectors","candidateSelector","join","matches","Element","msMatchesSelector","webkitMatchesSelector","getCandidates","el","includeContainer","filter","candidates","Array","slice","apply","querySelectorAll","call","unshift","getTabindex","node","tabindexAttr","parseInt","getAttribute","isNaN","contentEditable","isContentEditable","nodeName","tabIndex","sortOrderedTabbables","b","documentOrder","isInput","tagName","isNodeMatchingSelectorFocusable","options","isHiddenInput","displayCheck","getComputedStyle","visibility","nodeUnderDetails","parentElement","_node$getBoundingClie","getBoundingClientRect","width","height","display","isHidden","children","some","child","isDetailsWithSummary","parentNode","i","length","item","contains","isDisabledFromFieldset","isNodeMatchingSelectorTabbable","isRadio","name","radioSet","radioScope","form","ownerDocument","queryRadios","window","CSS","escape","err","console","message","checked","nodes","getCheckedRadio","isTabbableRadio","isNonTabbableRadio","isTabbable","Error","focusableCandidateSelector","concat","isFocusable","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","push","_defineProperty","obj","defineProperty","configurable","writable","trapQueue","activeFocusTraps","activateTrap","trap","activeTrap","pause","trapIndex","indexOf","splice","deactivateTrap","unpause","delay","fn","setTimeout","findIndex","arr","idx","every","valueOrHandler","_len","arguments","params","_key","getActualTarget","event","target","shadowRoot","composedPath","container","document","createElement","content","open","_close","body","appendChild","own","watch","_toggleFocusTrap","destroy","_destroyFocusTrap","id","title","r","close","role","_createFocusTrap","_renderContent","_focusTrap","deactivate","onDeactivate","activate","requestAnimationFrame","elements","userOptions","doc","config","source","forEach","getOwnPropertyDescriptors","defineProperties","_objectSpread2","returnFocusOnDeactivate","escapeDeactivates","delayInitialFocus","state","containers","tabbableGroups","nodeFocusedBeforeActivation","mostRecentlyFocusedNode","active","paused","delayInitialFocusTimer","undefined","getOption","configOverrideOptions","optionName","configOptionName","containersContain","element","getNodeForOption","optionValue","_len2","_key2","querySelector","getInitialFocusNode","activeElement","firstTabbableGroup","firstTabbableNode","updateTabbableNodes","map","tabbableNodes","regularTabbables","orderedTabbables","candidate","candidateTabindex","sort","tabbable","focusableNodes","lastTabbableNode","nextTabbableNode","forward","nodeIdx","find","reverse","group","tryFocus","focus","preventScroll","toLowerCase","select","isSelectableInput","getReturnFocusNode","previousActiveElement","checkPointerDown","clickOutsideDeactivates","returnFocus","allowOutsideClick","checkFocusIn","targetContained","Document","stopImmediatePropagation","checkKey","keyCode","isEscapeEvent","isTabEvent","destinationNode","containerIndex","_ref","containerGroup","shiftKey","startOfGroupIndex","_ref2","destinationGroupIndex","lastOfGroupIndex","_ref3","_destinationGroupIndex","checkTab","checkClick","addListeners","addEventListener","capture","passive","removeListeners","removeEventListener","activateOptions","onActivate","onPostActivate","checkCanFocusTrap","finishActivation","then","deactivateOptions","clearTimeout","onPostDeactivate","checkCanReturnFocus","finishDeactivation","updateContainerElements","containerElements","elementsAsArray","Boolean","initialFocus","cancelAnimationFrame","innerHTML","HTMLElement","_attachToNode","readOnly","aliasOf","storage","appId","expires","ssl","token","userId","_init","isValid","Date","now","minTimeUntilExpiration","save","_load","authNamespace","portalUrl","setItem","JSON","stringify","log","replace","FormData","append","navigator","sendBeacon","XMLHttpRequest","send","_oAuthCred","getItem","parse","declaredClass","expiration","forceLogin","forceUserId","locale","popup","popupCallbackUrl","popupWindowFeatures","preserveUrlHash","clone","fromJSON","toJSON","json","write","adminTokenServiceUrl","currentVersion","hasPortal","hasServer","owningSystemUrl","owningTenant","shortLivedTokenValidity","tokenServiceUrl","webTierAuth","T","O","host","R","P","localStorage","sessionStorage","C","_portalConfig","globalThis","esriGeowConfig","serverInfos","oAuthInfos","credentials","_soReqs","_xoReqs","_portals","defaultOAuthInfo","defaultTokenValidity","dialog","formConstructor","tokenValidity","normalizeWebTierAuth","_appOrigin","origin","location","_appUrlObj","href","_busy","_rejectOnPersistedPageShow","_oAuthHash","_gwTokenUrl","_agsRest","_agsPortal","_agsAdmin","_adminSvcs","_gwDomains","regex","customBaseUrl","_legacyFed","_regexSDirUrl","_regexServerType","_gwUser","_gwItem","_gwGroup","_rePortalTokenSvc","_createDefaultOAuthInfo","_hasTestedIfAppIsOnPortal","_getOAuthHash","_pageShowHandler","registerServers","findServerInfo","registerOAuthInfos","findOAuthInfo","registerToken","_sanitizeUrl","_isServerRsrc","_getServerInstanceRoot","_getTokenSvcUrl","_findCredential","assign","D","scope","resources","emitTokenChange","refreshServerTokens","initialize","_hasSameServerInstance","findCredential","_getIdenticalSvcIdx","getCredential","prompt","AbortController","signal","abort","reject","promise","_isAdminResource","resolve","f","_restInfoPms","_selfReq","selfDfd","_getPortalSelf","_enqueue","getResourceName","_isRESTService","generateToken","l","isAdmin","serverUrl","customParameters","scheme","uri","port","v","query","request","referer","client","method","authMode","useProxy","_useProxy","ioArgs","withCredentials","data","validity","isBusy","checkSignInStatus","checkAppAccess","credential","_doPortalSignIn","force","client_id","valid","viewOnlyUserTypeApp","catch","viewOnly","setOAuthResponseHash","_oAuthDfd","clearInterval","_oAuthIntervalId","_oAuthOnHashHandle","remove","charAt","substring","error_description","sinfo_","oinfo_","access_token","Number","expires_in","persist","setOAuthRedirectionHandler","_oAuthRedirectFunc","setProtocolErrorHandler","_protocolFunc","signIn","on","oAuthSignIn","oAuthWin_","closed","resUrl_","oAuthPopupConfirmation","_doOAuthSignIn","_","destroyCredentials","enablePostMessageAuth","_postMessageAuthHandle","endsWith","postMessage","disablePostMessageAuth","hash","hasOwnProperty","persisted","_errbackFunc","_addResource","_removeResource","_findOAuthInfo","_isIdProvider","_isPortalDomain","String","_getOrigin","search","substr","_normalizeAGOLorgDomain","path","_isIdenticalService","_getSuffix","restBaseUrl","adminUrl","_exchangeToken","_getPlatformSelf","headers","Promise","allSSL","portalMode","supportsOAuth","startsWith","_checkProtocol","trim","resourceUrl","serverInfo","options_","admin_","refresh_","_doSignIn","creationTime","shift","parent","_pendingDfd","oAuthState","user","portalToken","tokenExpiration","parseFloat","_generateOAuthInfo","accountId","redirect_uri","urlKey","top","response_type","force_login","prepopulatedusername","redirectToUserOrgUrl","setInterval","detail","authorizeParams","authorizeUrl","tokenRefreshBuffer","refreshToken","_enqueued","_refreshTimer","_startRefreshTimer"],"sourceRoot":""}