{"version":3,"file":"chunks/123.js","mappings":"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","sources":["webpack://momraGisCore/./node_modules/@arcgis/core/views/webgl/ProgramCache.js","webpack://momraGisCore/./node_modules/@arcgis/core/views/webgl/ShaderCompiler.js","webpack://momraGisCore/./node_modules/@arcgis/core/views/webgl/Texture.js","webpack://momraGisCore/./node_modules/@arcgis/core/views/webgl/capabilities/isWebGL2Context.js","webpack://momraGisCore/./node_modules/@arcgis/core/views/webgl/checkWebGLError.js","webpack://momraGisCore/./node_modules/@arcgis/core/views/webgl/enums.js","webpack://momraGisCore/./node_modules/@arcgis/core/views/webgl/programUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{createProgram as r}from\"./programUtils.js\";class t{constructor(r){this._programCacheByTemplate=new Map,this._rctx=r}dispose(){this._programCacheByTemplate.forEach((r=>r.programs.forEach((r=>r.dispose())))),this._programCacheByTemplate=null}getProgram(t,a){return this._programCacheByTemplate.has(t)||this.addProgramTemplate(t,(a=>r(this._rctx,t,a))),this.getProgramTemplateInstance(t,a)}addProgramTemplate(r,t){this._programCacheByTemplate.set(r,{constructor:t,programs:new Map})}getProgramTemplateInstance(r,t){const a=this._programCacheByTemplate.get(r);if(a){const r=t?JSON.stringify(t):\"default\";if(!a.programs.has(r)){const e=a.constructor(t);a.programs.set(r,e)}return a.programs.get(r)}return null}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nclass e{constructor(e){this.readFile=e}resolveIncludes(e){return this.resolve(e)}resolve(e,t=new Map){if(t.has(e))return t.get(e);const r=this.read(e);if(!r)throw new Error(`cannot find shader file ${e}`);const s=/^[^\\S\\n]*#include\\s+<(\\S+)>[^\\S\\n]?/gm;let n=s.exec(r);const l=[];for(;null!=n;)l.push({path:n[1],start:n.index,length:n[0].length}),n=s.exec(r);let a=0,h=\"\";return l.forEach((e=>{h+=r.slice(a,e.start),h+=t.has(e.path)?\"\":this.resolve(e.path,t),a=e.start+e.length})),h+=r.slice(a),t.set(e,h),h}read(e){return this.readFile(e)}}export{e as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isPowerOfTwo as t}from\"../../core/mathUtils.js\";import{isSome as e}from\"../../core/maybe.js\";import{checkWebGLError as i}from\"./checkWebGLError.js\";import{ResourceType as a}from\"./enums.js\";import r from\"./capabilities/isWebGL2Context.js\";const s=4;class o{constructor(t,e,i=null){this._context=t,this.type=\"texture\",this._glName=null,this._descriptor=void 0,this._samplingModeDirty=!1,this._wrapModeDirty=!1,t.instanceCounter.increment(a.Texture,this),this._descriptor={target:3553,samplingMode:9729,wrapMode:10497,flipped:!1,hasMipmap:!1,isOpaque:!1,unpackAlignment:4,preMultiplyAlpha:!1,...e},34067===this._descriptor.target?this.setDataCubeMap(i):this.setData(i)}get glName(){return this._glName}get descriptor(){return this._descriptor}get isDirty(){return this._samplingModeDirty||this._wrapModeDirty}dispose(){this._context.gl&&this._glName&&(this._context.unbindTextureAllUnits(this),this._context.gl.deleteTexture(this._glName),this._glName=null,this._context.instanceCounter.decrement(a.Texture,this))}release(){this.dispose()}resize(t,e){const i=this._descriptor;i.width===t&&i.height===e||(i.width=t,i.height=e,34067===this._descriptor.target?this.setDataCubeMap(null):this.setData(null))}setDataCubeMap(t=null){for(let e=34069;e<=34074;e++)this.setData(t,e)}setData(t,a=3553){if(!this._context||!this._context.gl)return;const r=this._context.gl;this._glName||(this._glName=r.createTexture()),void 0===t&&(t=null),null===t&&(this._descriptor.width=this._descriptor.width||s,this._descriptor.height=this._descriptor.height||s);const p=this._context.bindTexture(this,o.TEXTURE_UNIT_FOR_UPDATES),h=this._descriptor;o._validateTexture(this._context,h),r.pixelStorei(r.UNPACK_ALIGNMENT,h.unpackAlignment),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,h.flipped?1:0),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,h.preMultiplyAlpha?1:0);const l=h.pixelFormat;let d=h.internalFormat?h.internalFormat:this._deriveInternalFormat(l,h.dataType);if(t instanceof ImageData||t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement){let e=t.width,s=t.height;t instanceof HTMLVideoElement&&(e=t.videoWidth,s=t.videoHeight),h.width&&h.height,r.texImage2D(a,0,d,l,h.dataType,t),i(r),h.hasMipmap&&this.generateMipmap(),void 0===h.width&&(h.width=e),void 0===h.height&&(h.height=s)}else{null!=h.width&&null!=h.height||console.error(\"Width and height must be specified!\"),r.DEPTH24_STENCIL8&&d===r.DEPTH_STENCIL&&(d=r.DEPTH24_STENCIL8);let s=h.width,o=h.height;if(n(t)){const e=Math.round(Math.log(Math.max(s,o))/Math.LN2)+1;h.hasMipmap=h.hasMipmap&&e===t.levels.length;for(let i=0;;++i){const e=t.levels[Math.min(i,t.levels.length-1)];if(r.compressedTexImage2D(a,i,d,s,o,0,e),1===s&&1===o||!h.hasMipmap)break;s=Math.max(1,s>>1),o=Math.max(1,o>>1)}}else if(e(t))r.texImage2D(a,0,d,s,o,0,l,h.dataType,t),i(r),h.hasMipmap&&this.generateMipmap();else for(let t=0;r.texImage2D(a,t,d,s,o,0,l,h.dataType,null),i(r),(1!==s||1!==o)&&h.hasMipmap;++t)s=Math.max(1,s>>1),o=Math.max(1,o>>1)}o._applySamplingMode(r,this._descriptor),o._applyWrapMode(r,this._descriptor),o._applyAnisotropicFilteringParameters(this._context,this._descriptor),i(r),this._context.bindTexture(p,o.TEXTURE_UNIT_FOR_UPDATES)}updateData(t,e,i,a,r,s,n=3553){s||console.error(\"An attempt to use uninitialized data!\"),this._glName||console.error(\"An attempt to update uninitialized texture!\");const p=this._context.gl,h=this._descriptor,l=this._context.bindTexture(this,o.TEXTURE_UNIT_FOR_UPDATES);(e<0||i<0||a>h.width||r>h.height||e+a>h.width||i+r>h.height)&&console.error(\"An attempt to update out of bounds of the texture!\"),p.pixelStorei(p.UNPACK_ALIGNMENT,h.unpackAlignment),p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,h.flipped?1:0),p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,h.preMultiplyAlpha?1:0),s instanceof ImageData||s instanceof HTMLImageElement||s instanceof HTMLCanvasElement||s instanceof HTMLVideoElement?p.texSubImage2D(n,t,e,i,h.pixelFormat,h.dataType,s):p.texSubImage2D(n,t,e,i,a,r,h.pixelFormat,h.dataType,s),this._context.bindTexture(l,o.TEXTURE_UNIT_FOR_UPDATES)}generateMipmap(){const t=this._descriptor;t.hasMipmap||(t.hasMipmap=!0,this._samplingModeDirty=!0,o._validateTexture(this._context,t)),9729===t.samplingMode?(this._samplingModeDirty=!0,t.samplingMode=9985):9728===t.samplingMode&&(this._samplingModeDirty=!0,t.samplingMode=9984);const e=this._context.bindTexture(this,o.TEXTURE_UNIT_FOR_UPDATES);this._context.gl.generateMipmap(t.target),this._context.bindTexture(e,o.TEXTURE_UNIT_FOR_UPDATES)}setSamplingMode(t){t!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=t,this._samplingModeDirty=!0)}setWrapMode(t){t!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=t,o._validateTexture(this._context,this._descriptor),this._wrapModeDirty=!0)}applyChanges(){const t=this._context.gl,e=this._descriptor;this._samplingModeDirty&&(o._applySamplingMode(t,e),this._samplingModeDirty=!1),this._wrapModeDirty&&(o._applyWrapMode(t,e),this._wrapModeDirty=!1)}_deriveInternalFormat(t,e){if(\"webgl\"===this._context.webglVersion)return t;if(5126===e)switch(t){case 6408:return 34836;case 6407:return 34837;default:throw new Error(\"Unable to derive format\")}return t}static _validateTexture(e,i){(i.width<0||i.height<0)&&console.error(\"Negative dimension parameters are not allowed!\");const a=t(i.width)&&t(i.height);r(e.gl)||a||(\"number\"==typeof i.wrapMode?33071!==i.wrapMode&&console.error(\"Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!\"):33071===i.wrapMode.s&&33071===i.wrapMode.t||console.error(\"Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!\"),i.hasMipmap&&console.error(\"Mipmapping requires power-of-two textures!\"))}static _applySamplingMode(t,e){let i=e.samplingMode,a=e.samplingMode;9985===i||9987===i?(i=9729,e.hasMipmap||(a=9729)):9984!==i&&9986!==i||(i=9728,e.hasMipmap||(a=9728)),t.texParameteri(e.target,t.TEXTURE_MAG_FILTER,i),t.texParameteri(e.target,t.TEXTURE_MIN_FILTER,a)}static _applyWrapMode(t,e){\"number\"==typeof e.wrapMode?(t.texParameteri(e.target,t.TEXTURE_WRAP_S,e.wrapMode),t.texParameteri(e.target,t.TEXTURE_WRAP_T,e.wrapMode)):(t.texParameteri(e.target,t.TEXTURE_WRAP_S,e.wrapMode.s),t.texParameteri(e.target,t.TEXTURE_WRAP_T,e.wrapMode.t))}static _applyAnisotropicFilteringParameters(t,e){var i;const a=t.capabilities.textureFilterAnisotropic;if(!a)return;t.gl.texParameterf(e.target,a.TEXTURE_MAX_ANISOTROPY,null!=(i=e.maxAnisotropy)?i:1)}}function n(t){return e(t)&&\"type\"in t&&\"compressed\"===t.type}o.TEXTURE_UNIT_FOR_UPDATES=0;export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nfunction n(n){return window.WebGL2RenderingContext&&n instanceof window.WebGL2RenderingContext}export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import r from\"../../core/has.js\";import t from\"../../core/Logger.js\";const n=t.getLogger(\"esri/views/webgl\");function o(e,r){switch(r){case e.INVALID_ENUM:return\"Invalid Enum. An unacceptable value has been specified for an enumerated argument.\";case e.INVALID_VALUE:return\"Invalid Value. A numeric argument is out of range.\";case e.INVALID_OPERATION:return\"Invalid Operation. The specified command is not allowed for the current state.\";case e.INVALID_FRAMEBUFFER_OPERATION:return\"Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.\";case e.OUT_OF_MEMORY:return\"Out of memory. Not enough memory is left to execute the command.\";case e.CONTEXT_LOST_WEBGL:return\"WebGL context has been lost\";default:return\"Unknown error\"}}const a=!!r(\"enable-feature:webgl-debug\");function u(){return a}function c(){return a}function s(r){if(u()){const t=r.getError();if(t){const a=o(r,t),u=(new Error).stack;n.error(new e(\"webgl-error\",\"WebGL error occured\",{message:a,stack:u}))}}}export{s as checkWebGLError,a as hasFeatureFlagWebGLDebug,u as webglDebugEnabled,c as webglValidateShadersEnabled};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nconst e=33984;var r;!function(e){e[e.Texture=0]=\"Texture\",e[e.Buffer=1]=\"Buffer\",e[e.VAO=2]=\"VAO\",e[e.VertexShader=3]=\"VertexShader\",e[e.FragmentShader=4]=\"FragmentShader\",e[e.Program=5]=\"Program\",e[e.Framebuffer=6]=\"Framebuffer\",e[e.Renderbuffer=7]=\"Renderbuffer\",e[e.COUNT=8]=\"COUNT\"}(r||(r={}));const f=33306;export{e as BASE_TEXTURE_UNIT,f as DepthStencilAttachment,r as ResourceType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{Program as e}from\"./Program.js\";function n(e){let n=\"\";for(const t in e){const o=e[t];if(\"boolean\"==typeof o)o&&(n+=`#define ${t}\\n`);else if(\"number\"==typeof o)n+=`#define ${t} ${o.toFixed()}\\n`;else if(\"object\"==typeof o){const e=o.options;let r=0;for(const t in e)n+=`#define ${e[t]} ${(r++).toFixed()}\\n`;n+=`#define ${t} ${e[o.value]}\\n`}}return n}function t(n,t,o,r){o=o||{},r=r||\"\";const f=\"function\"==typeof t.shaders?t.shaders(o):t.shaders;return new e(n,r+f.vertexShader,r+f.fragmentShader,t.attributes)}export{t as createProgram,n as glslifyDefineMap};\n"],"names":["t","constructor","r","this","_programCacheByTemplate","Map","_rctx","dispose","forEach","programs","getProgram","a","has","addProgramTemplate","getProgramTemplateInstance","set","get","JSON","stringify","e","readFile","resolveIncludes","resolve","read","Error","s","n","exec","l","push","path","start","index","length","h","slice","o","i","_context","type","_glName","_descriptor","_samplingModeDirty","_wrapModeDirty","instanceCounter","increment","target","samplingMode","wrapMode","flipped","hasMipmap","isOpaque","unpackAlignment","preMultiplyAlpha","setDataCubeMap","setData","glName","descriptor","isDirty","gl","unbindTextureAllUnits","deleteTexture","decrement","release","resize","width","height","createTexture","p","bindTexture","TEXTURE_UNIT_FOR_UPDATES","_validateTexture","pixelStorei","UNPACK_ALIGNMENT","UNPACK_FLIP_Y_WEBGL","UNPACK_PREMULTIPLY_ALPHA_WEBGL","pixelFormat","d","internalFormat","_deriveInternalFormat","dataType","ImageData","HTMLImageElement","HTMLCanvasElement","HTMLVideoElement","videoWidth","videoHeight","texImage2D","generateMipmap","console","error","DEPTH24_STENCIL8","DEPTH_STENCIL","Math","round","log","max","LN2","levels","min","compressedTexImage2D","_applySamplingMode","_applyWrapMode","_applyAnisotropicFilteringParameters","updateData","texSubImage2D","setSamplingMode","setWrapMode","applyChanges","webglVersion","static","texParameteri","TEXTURE_MAG_FILTER","TEXTURE_MIN_FILTER","TEXTURE_WRAP_S","TEXTURE_WRAP_T","capabilities","textureFilterAnisotropic","texParameterf","TEXTURE_MAX_ANISOTROPY","maxAnisotropy","window","WebGL2RenderingContext","u","c","getError","INVALID_ENUM","INVALID_VALUE","INVALID_OPERATION","INVALID_FRAMEBUFFER_OPERATION","OUT_OF_MEMORY","CONTEXT_LOST_WEBGL","stack","message","Texture","Buffer","VAO","VertexShader","FragmentShader","Program","Framebuffer","Renderbuffer","COUNT","f","toFixed","options","value","shaders","vertexShader","fragmentShader","attributes"],"sourceRoot":""}